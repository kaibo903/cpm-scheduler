(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gr(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const tt={},$e=[],zt=()=>{},Pi=()=>!1,Jn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Jr=t=>t.startsWith("onUpdate:"),mt=Object.assign,Zr=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Sl=Object.prototype.hasOwnProperty,J=(t,e)=>Sl.call(t,e),W=Array.isArray,ke=t=>Zn(t)==="[object Map]",Oi=t=>Zn(t)==="[object Set]",j=t=>typeof t=="function",ct=t=>typeof t=="string",fe=t=>typeof t=="symbol",it=t=>t!==null&&typeof t=="object",Li=t=>(it(t)||j(t))&&j(t.then)&&j(t.catch),Di=Object.prototype.toString,Zn=t=>Di.call(t),Cl=t=>Zn(t).slice(8,-1),Hi=t=>Zn(t)==="[object Object]",Qr=t=>ct(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ye=Gr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qn=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Ml=/-\w/g,ae=Qn(t=>t.replace(Ml,e=>e.slice(1).toUpperCase())),$l=/\B([A-Z])/g,de=Qn(t=>t.replace($l,"-$1").toLowerCase()),Vi=Qn(t=>t.charAt(0).toUpperCase()+t.slice(1)),pr=Qn(t=>t?`on${Vi(t)}`:""),le=(t,e)=>!Object.is(t,e),Cn=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ui=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Tr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Es;const tr=()=>Es||(Es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ts(t){if(W(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ct(r)?Al(r):ts(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ct(t)||it(t))return t}const kl=/;(?![^(]*\))/g,Tl=/:([^]+)/,El=/\/\*[^]*?\*\//g;function Al(t){const e={};return t.replace(El,"").split(kl).forEach(n=>{if(n){const r=n.split(Tl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Fe(t){let e="";if(ct(t))e=t;else if(W(t))for(let n=0;n<t.length;n++){const r=Fe(t[n]);r&&(e+=r+" ")}else if(it(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fl=Gr(Il);function Bi(t){return!!t||t===""}const Ki=t=>!!(t&&t.__v_isRef===!0),st=t=>ct(t)?t:t==null?"":W(t)||it(t)&&(t.toString===Di||!j(t.toString))?Ki(t)?st(t.value):JSON.stringify(t,Wi,2):String(t),Wi=(t,e)=>Ki(e)?Wi(t,e.value):ke(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[gr(r,i)+" =>"]=s,n),{})}:Oi(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>gr(n))}:fe(e)?gr(e):it(e)&&!W(e)&&!Hi(e)?String(e):e,gr=(t,e="")=>{var n;return fe(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mt;class Nl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mt,!e&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Mt;try{return Mt=this,e()}finally{Mt=n}}}on(){++this._on===1&&(this.prevScope=Mt,Mt=this)}off(){this._on>0&&--this._on===0&&(Mt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Rl(){return Mt}let rt;const mr=new WeakSet;class zi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mt&&Mt.active&&Mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mr.has(this)&&(mr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,As(this),Xi(this);const e=rt,n=Pt;rt=this,Pt=!0;try{return this.fn()}finally{Yi(this),rt=e,Pt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)rs(e);this.deps=this.depsTail=void 0,As(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Er(this)&&this.run()}get dirty(){return Er(this)}}let ji=0,Ge,Je;function qi(t,e=!1){if(t.flags|=8,e){t.next=Je,Je=t;return}t.next=Ge,Ge=t}function es(){ji++}function ns(){if(--ji>0)return;if(Je){let e=Je;for(Je=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ge;){let e=Ge;for(Ge=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Xi(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Yi(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),rs(r),Pl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Er(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Gi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Gi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===nn)||(t.globalVersion=nn,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Er(t))))return;t.flags|=2;const e=t.dep,n=rt,r=Pt;rt=t,Pt=!0;try{Xi(t);const s=t.fn(t._value);(e.version===0||le(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{rt=n,Pt=r,Yi(t),t.flags&=-3}}function rs(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)rs(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Pl(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Pt=!0;const Ji=[];function te(){Ji.push(Pt),Pt=!1}function ee(){const t=Ji.pop();Pt=t===void 0?!0:t}function As(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=rt;rt=void 0;try{e()}finally{rt=n}}}let nn=0;class Ol{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ss{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!rt||!Pt||rt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==rt)n=this.activeLink=new Ol(rt,this),rt.deps?(n.prevDep=rt.depsTail,rt.depsTail.nextDep=n,rt.depsTail=n):rt.deps=rt.depsTail=n,Zi(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=rt.depsTail,n.nextDep=void 0,rt.depsTail.nextDep=n,rt.depsTail=n,rt.deps===n&&(rt.deps=r)}return n}trigger(e){this.version++,nn++,this.notify(e)}notify(e){es();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ns()}}}function Zi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Zi(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ar=new WeakMap,ye=Symbol(""),Ir=Symbol(""),rn=Symbol("");function pt(t,e,n){if(Pt&&rt){let r=Ar.get(t);r||Ar.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new ss),s.map=r,s.key=n),s.track()}}function Zt(t,e,n,r,s,i){const o=Ar.get(t);if(!o){nn++;return}const l=a=>{a&&a.trigger()};if(es(),e==="clear")o.forEach(l);else{const a=W(t),c=a&&Qr(n);if(a&&n==="length"){const u=Number(r);o.forEach((f,d)=>{(d==="length"||d===rn||!fe(d)&&d>=u)&&l(f)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(rn)),e){case"add":a?c&&l(o.get("length")):(l(o.get(ye)),ke(t)&&l(o.get(Ir)));break;case"delete":a||(l(o.get(ye)),ke(t)&&l(o.get(Ir)));break;case"set":ke(t)&&l(o.get(ye));break}}ns()}function we(t){const e=G(t);return e===t?e:(pt(e,"iterate",rn),Ft(t)?e:e.map(ft))}function er(t){return pt(t=G(t),"iterate",rn),t}const Ll={__proto__:null,[Symbol.iterator](){return yr(this,Symbol.iterator,ft)},concat(...t){return we(this).concat(...t.map(e=>W(e)?we(e):e))},entries(){return yr(this,"entries",t=>(t[1]=ft(t[1]),t))},every(t,e){return Yt(this,"every",t,e,void 0,arguments)},filter(t,e){return Yt(this,"filter",t,e,n=>n.map(ft),arguments)},find(t,e){return Yt(this,"find",t,e,ft,arguments)},findIndex(t,e){return Yt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Yt(this,"findLast",t,e,ft,arguments)},findLastIndex(t,e){return Yt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Yt(this,"forEach",t,e,void 0,arguments)},includes(...t){return vr(this,"includes",t)},indexOf(...t){return vr(this,"indexOf",t)},join(t){return we(this).join(t)},lastIndexOf(...t){return vr(this,"lastIndexOf",t)},map(t,e){return Yt(this,"map",t,e,void 0,arguments)},pop(){return Ve(this,"pop")},push(...t){return Ve(this,"push",t)},reduce(t,...e){return Is(this,"reduce",t,e)},reduceRight(t,...e){return Is(this,"reduceRight",t,e)},shift(){return Ve(this,"shift")},some(t,e){return Yt(this,"some",t,e,void 0,arguments)},splice(...t){return Ve(this,"splice",t)},toReversed(){return we(this).toReversed()},toSorted(t){return we(this).toSorted(t)},toSpliced(...t){return we(this).toSpliced(...t)},unshift(...t){return Ve(this,"unshift",t)},values(){return yr(this,"values",ft)}};function yr(t,e,n){const r=er(t),s=r[e]();return r!==t&&!Ft(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const Dl=Array.prototype;function Yt(t,e,n,r,s,i){const o=er(t),l=o!==t&&!Ft(t),a=o[e];if(a!==Dl[e]){const f=a.apply(t,i);return l?ft(f):f}let c=n;o!==t&&(l?c=function(f,d){return n.call(this,ft(f),d,t)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,t)}));const u=a.call(o,c,r);return l&&s?s(u):u}function Is(t,e,n,r){const s=er(t);let i=n;return s!==t&&(Ft(t)?n.length>3&&(i=function(o,l,a){return n.call(this,o,l,a,t)}):i=function(o,l,a){return n.call(this,o,ft(l),a,t)}),s[e](i,...r)}function vr(t,e,n){const r=G(t);pt(r,"iterate",rn);const s=r[e](...n);return(s===-1||s===!1)&&as(n[0])?(n[0]=G(n[0]),r[e](...n)):s}function Ve(t,e,n=[]){te(),es();const r=G(t)[e].apply(t,n);return ns(),ee(),r}const Hl=Gr("__proto__,__v_isRef,__isVue"),Qi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fe));function Vl(t){fe(t)||(t=String(t));const e=G(this);return pt(e,"has",t),e.hasOwnProperty(t)}class to{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Gl:so:i?ro:no).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=W(e);if(!s){let a;if(o&&(a=Ll[n]))return a;if(n==="hasOwnProperty")return Vl}const l=Reflect.get(e,n,gt(e)?e:r);if((fe(n)?Qi.has(n):Hl(n))||(s||pt(e,"get",n),i))return l;if(gt(l)){const a=o&&Qr(n)?l:l.value;return s&&it(a)?Nr(a):a}return it(l)?s?Nr(l):os(l):l}}class eo extends to{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const a=ce(i);if(!Ft(r)&&!ce(r)&&(i=G(i),r=G(r)),!W(e)&&gt(i)&&!gt(r))return a||(i.value=r),!0}const o=W(e)&&Qr(n)?Number(n)<e.length:J(e,n),l=Reflect.set(e,n,r,gt(e)?e:s);return e===G(s)&&(o?le(r,i)&&Zt(e,"set",n,r):Zt(e,"add",n,r)),l}deleteProperty(e,n){const r=J(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Zt(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!fe(n)||!Qi.has(n))&&pt(e,"has",n),r}ownKeys(e){return pt(e,"iterate",W(e)?"length":ye),Reflect.ownKeys(e)}}class Ul extends to{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Bl=new eo,Kl=new Ul,Wl=new eo(!0);const Fr=t=>t,yn=t=>Reflect.getPrototypeOf(t);function zl(t,e,n){return function(...r){const s=this.__v_raw,i=G(s),o=ke(i),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=s[t](...r),u=n?Fr:e?Rn:ft;return!e&&pt(i,"iterate",a?Ir:ye),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:l?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function vn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function jl(t,e){const n={get(s){const i=this.__v_raw,o=G(i),l=G(s);t||(le(s,l)&&pt(o,"get",s),pt(o,"get",l));const{has:a}=yn(o),c=e?Fr:t?Rn:ft;if(a.call(o,s))return c(i.get(s));if(a.call(o,l))return c(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&pt(G(s),"iterate",ye),s.size},has(s){const i=this.__v_raw,o=G(i),l=G(s);return t||(le(s,l)&&pt(o,"has",s),pt(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,a=G(l),c=e?Fr:t?Rn:ft;return!t&&pt(a,"iterate",ye),l.forEach((u,f)=>s.call(i,c(u),c(f),o))}};return mt(n,t?{add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear")}:{add(s){!e&&!Ft(s)&&!ce(s)&&(s=G(s));const i=G(this);return yn(i).has.call(i,s)||(i.add(s),Zt(i,"add",s,s)),this},set(s,i){!e&&!Ft(i)&&!ce(i)&&(i=G(i));const o=G(this),{has:l,get:a}=yn(o);let c=l.call(o,s);c||(s=G(s),c=l.call(o,s));const u=a.call(o,s);return o.set(s,i),c?le(i,u)&&Zt(o,"set",s,i):Zt(o,"add",s,i),this},delete(s){const i=G(this),{has:o,get:l}=yn(i);let a=o.call(i,s);a||(s=G(s),a=o.call(i,s)),l&&l.call(i,s);const c=i.delete(s);return a&&Zt(i,"delete",s,void 0),c},clear(){const s=G(this),i=s.size!==0,o=s.clear();return i&&Zt(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=zl(s,t,e)}),n}function is(t,e){const n=jl(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(J(n,s)&&s in r?n:r,s,i)}const ql={get:is(!1,!1)},Xl={get:is(!1,!0)},Yl={get:is(!0,!1)};const no=new WeakMap,ro=new WeakMap,so=new WeakMap,Gl=new WeakMap;function Jl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zl(t){return t.__v_skip||!Object.isExtensible(t)?0:Jl(Cl(t))}function os(t){return ce(t)?t:ls(t,!1,Bl,ql,no)}function Ql(t){return ls(t,!1,Wl,Xl,ro)}function Nr(t){return ls(t,!0,Kl,Yl,so)}function ls(t,e,n,r,s){if(!it(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Zl(t);if(i===0)return t;const o=s.get(t);if(o)return o;const l=new Proxy(t,i===2?r:n);return s.set(t,l),l}function Te(t){return ce(t)?Te(t.__v_raw):!!(t&&t.__v_isReactive)}function ce(t){return!!(t&&t.__v_isReadonly)}function Ft(t){return!!(t&&t.__v_isShallow)}function as(t){return t?!!t.__v_raw:!1}function G(t){const e=t&&t.__v_raw;return e?G(e):t}function ta(t){return!J(t,"__v_skip")&&Object.isExtensible(t)&&Ui(t,"__v_skip",!0),t}const ft=t=>it(t)?os(t):t,Rn=t=>it(t)?Nr(t):t;function gt(t){return t?t.__v_isRef===!0:!1}function Kt(t){return ea(t,!1)}function ea(t,e){return gt(t)?t:new na(t,e)}class na{constructor(e,n){this.dep=new ss,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:G(e),this._value=n?e:ft(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ft(e)||ce(e);e=r?e:G(e),le(e,n)&&(this._rawValue=e,this._value=r?e:ft(e),this.dep.trigger())}}function ra(t){return gt(t)?t.value:t}const sa={get:(t,e,n)=>e==="__v_raw"?t:ra(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return gt(s)&&!gt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function io(t){return Te(t)?t:new Proxy(t,sa)}class ia{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ss(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=nn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&rt!==this)return qi(this,!0),!0}get value(){const e=this.dep.track();return Gi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function oa(t,e,n=!1){let r,s;return j(t)?r=t:(r=t.get,s=t.set),new ia(r,s,n)}const _n={},Pn=new WeakMap;let ge;function la(t,e=!1,n=ge){if(n){let r=Pn.get(n);r||Pn.set(n,r=[]),r.push(t)}}function aa(t,e,n=tt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:a}=n,c=x=>s?x:Ft(x)||s===!1||s===0?Qt(x,1):Qt(x);let u,f,d,p,w=!1,A=!1;if(gt(t)?(f=()=>t.value,w=Ft(t)):Te(t)?(f=()=>c(t),w=!0):W(t)?(A=!0,w=t.some(x=>Te(x)||Ft(x)),f=()=>t.map(x=>{if(gt(x))return x.value;if(Te(x))return c(x);if(j(x))return a?a(x,2):x()})):j(t)?e?f=a?()=>a(t,2):t:f=()=>{if(d){te();try{d()}finally{ee()}}const x=ge;ge=u;try{return a?a(t,3,[p]):t(p)}finally{ge=x}}:f=zt,e&&s){const x=f,P=s===!0?1/0:s;f=()=>Qt(x(),P)}const H=Rl(),k=()=>{u.stop(),H&&H.active&&Zr(H.effects,u)};if(i&&e){const x=e;e=(...P)=>{x(...P),k()}}let T=A?new Array(t.length).fill(_n):_n;const $=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const P=u.run();if(s||w||(A?P.some((Q,et)=>le(Q,T[et])):le(P,T))){d&&d();const Q=ge;ge=u;try{const et=[P,T===_n?void 0:A&&T[0]===_n?[]:T,p];T=P,a?a(e,3,et):e(...et)}finally{ge=Q}}}else u.run()};return l&&l($),u=new zi(f),u.scheduler=o?()=>o($,!1):$,p=x=>la(x,!1,u),d=u.onStop=()=>{const x=Pn.get(u);if(x){if(a)a(x,4);else for(const P of x)P();Pn.delete(u)}},e?r?$(!0):T=u.run():o?o($.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function Qt(t,e=1/0,n){if(e<=0||!it(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,gt(t))Qt(t.value,e,n);else if(W(t))for(let r=0;r<t.length;r++)Qt(t[r],e,n);else if(Oi(t)||ke(t))t.forEach(r=>{Qt(r,e,n)});else if(Hi(t)){for(const r in t)Qt(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Qt(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fn(t,e,n,r){try{return r?t(...r):t()}catch(s){nr(s,e,n)}}function qt(t,e,n,r){if(j(t)){const s=fn(t,e,n,r);return s&&Li(s)&&s.catch(i=>{nr(i,e,n)}),s}if(W(t)){const s=[];for(let i=0;i<t.length;i++)s.push(qt(t[i],e,n,r));return s}}function nr(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||tt;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,c)===!1)return}l=l.parent}if(i){te(),fn(i,null,10,[t,a,c]),ee();return}}ca(t,n,s,r,o)}function ca(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const _t=[];let Bt=-1;const Ee=[];let se=null,Se=0;const oo=Promise.resolve();let On=null;function lo(t){const e=On||oo;return t?e.then(this?t.bind(this):t):e}function ua(t){let e=Bt+1,n=_t.length;for(;e<n;){const r=e+n>>>1,s=_t[r],i=sn(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function cs(t){if(!(t.flags&1)){const e=sn(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=sn(n)?_t.push(t):_t.splice(ua(e),0,t),t.flags|=1,ao()}}function ao(){On||(On=oo.then(uo))}function fa(t){W(t)?Ee.push(...t):se&&t.id===-1?se.splice(Se+1,0,t):t.flags&1||(Ee.push(t),t.flags|=1),ao()}function Fs(t,e,n=Bt+1){for(;n<_t.length;n++){const r=_t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;_t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function co(t){if(Ee.length){const e=[...new Set(Ee)].sort((n,r)=>sn(n)-sn(r));if(Ee.length=0,se){se.push(...e);return}for(se=e,Se=0;Se<se.length;Se++){const n=se[Se];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}se=null,Se=0}}const sn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function uo(t){try{for(Bt=0;Bt<_t.length;Bt++){const e=_t[Bt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),fn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Bt<_t.length;Bt++){const e=_t[Bt];e&&(e.flags&=-2)}Bt=-1,_t.length=0,co(),On=null,(_t.length||Ee.length)&&uo()}}let It=null,fo=null;function Ln(t){const e=It;return It=t,fo=t&&t.type.__scopeId||null,e}function da(t,e=It,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Ks(-1);const i=Ln(e);let o;try{o=t(...s)}finally{Ln(i),r._d&&Ks(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ns(t,e){if(It===null)return t;const n=lr(It),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,l,a=tt]=e[s];i&&(j(i)&&(i={mounted:i,updated:i}),i.deep&&Qt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}function he(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let a=l.dir[r];a&&(te(),qt(a,n,8,[t.el,l,t,e]),ee())}}const ha=Symbol("_vte"),pa=t=>t.__isTeleport,ga=Symbol("_leaveCb");function us(t,e){t.shapeFlag&6&&t.component?(t.transition=e,us(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function rr(t,e){return j(t)?mt({name:t.name},e,{setup:t}):t}function ho(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Dn=new WeakMap;function Ze(t,e,n,r,s=!1){if(W(t)){t.forEach((w,A)=>Ze(w,e&&(W(e)?e[A]:e),n,r,s));return}if(Qe(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ze(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?lr(r.component):r.el,o=s?null:i,{i:l,r:a}=t,c=e&&e.r,u=l.refs===tt?l.refs={}:l.refs,f=l.setupState,d=G(f),p=f===tt?Pi:w=>J(d,w);if(c!=null&&c!==a){if(Rs(e),ct(c))u[c]=null,p(c)&&(f[c]=null);else if(gt(c)){c.value=null;const w=e;w.k&&(u[w.k]=null)}}if(j(a))fn(a,l,12,[o,u]);else{const w=ct(a),A=gt(a);if(w||A){const H=()=>{if(t.f){const k=w?p(a)?f[a]:u[a]:a.value;if(s)W(k)&&Zr(k,i);else if(W(k))k.includes(i)||k.push(i);else if(w)u[a]=[i],p(a)&&(f[a]=u[a]);else{const T=[i];a.value=T,t.k&&(u[t.k]=T)}}else w?(u[a]=o,p(a)&&(f[a]=o)):A&&(a.value=o,t.k&&(u[t.k]=o))};if(o){const k=()=>{H(),Dn.delete(t)};k.id=-1,Dn.set(t,k),Tt(k,n)}else Rs(t),H()}}}function Rs(t){const e=Dn.get(t);e&&(e.flags|=8,Dn.delete(t))}tr().requestIdleCallback;tr().cancelIdleCallback;const Qe=t=>!!t.type.__asyncLoader,po=t=>t.type.__isKeepAlive;function ma(t,e){go(t,"a",e)}function ya(t,e){go(t,"da",e)}function go(t,e,n=xt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(sr(e,r,n),n){let s=n.parent;for(;s&&s.parent;)po(s.parent.vnode)&&va(r,e,n,s),s=s.parent}}function va(t,e,n,r){const s=sr(e,t,r,!0);yo(()=>{Zr(r[e],s)},n)}function sr(t,e,n=xt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{te();const l=dn(n),a=qt(e,n,t,o);return l(),ee(),a});return r?s.unshift(i):s.push(i),i}}const re=t=>(e,n=xt)=>{(!ln||t==="sp")&&sr(t,(...r)=>e(...r),n)},_a=re("bm"),mo=re("m"),xa=re("bu"),ba=re("u"),wa=re("bum"),yo=re("um"),Sa=re("sp"),Ca=re("rtg"),Ma=re("rtc");function $a(t,e=xt){sr("ec",t,e)}const ka=Symbol.for("v-ndc");function oe(t,e,n,r){let s;const i=n,o=W(t);if(o||ct(t)){const l=o&&Te(t);let a=!1,c=!1;l&&(a=!Ft(t),c=ce(t),t=er(t)),s=new Array(t.length);for(let u=0,f=t.length;u<f;u++)s[u]=e(a?c?Rn(ft(t[u])):ft(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,i)}else if(it(t))if(t[Symbol.iterator])s=Array.from(t,(l,a)=>e(l,a,void 0,i));else{const l=Object.keys(t);s=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];s[a]=e(t[u],u,a,i)}}else s=[];return s}const Rr=t=>t?Do(t)?lr(t):Rr(t.parent):null,tn=mt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Rr(t.parent),$root:t=>Rr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>_o(t),$forceUpdate:t=>t.f||(t.f=()=>{cs(t.update)}),$nextTick:t=>t.n||(t.n=lo.bind(t.proxy)),$watch:t=>Ya.bind(t)}),_r=(t,e)=>t!==tt&&!t.__isScriptSetup&&J(t,e),Ta={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(_r(r,e))return o[e]=1,r[e];if(s!==tt&&J(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&J(c,e))return o[e]=3,i[e];if(n!==tt&&J(n,e))return o[e]=4,n[e];Pr&&(o[e]=0)}}const u=tn[e];let f,d;if(u)return e==="$attrs"&&pt(t.attrs,"get",""),u(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==tt&&J(n,e))return o[e]=4,n[e];if(d=a.config.globalProperties,J(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return _r(s,e)?(s[e]=n,!0):r!==tt&&J(r,e)?(r[e]=n,!0):J(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},l){let a,c;return!!(n[l]||t!==tt&&l[0]!=="$"&&J(t,l)||_r(e,l)||(a=i[0])&&J(a,l)||J(r,l)||J(tn,l)||J(s.config.globalProperties,l)||(c=o.__cssModules)&&c[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:J(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ps(t){return W(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Pr=!0;function Ea(t){const e=_o(t),n=t.proxy,r=t.ctx;Pr=!1,e.beforeCreate&&Os(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:p,updated:w,activated:A,deactivated:H,beforeDestroy:k,beforeUnmount:T,destroyed:$,unmounted:x,render:P,renderTracked:Q,renderTriggered:et,errorCaptured:ut,serverPrefetch:ht,expose:lt,inheritAttrs:U,components:F,directives:_,filters:m}=e;if(c&&Aa(c,r,null),o)for(const K in o){const X=o[K];j(X)&&(r[K]=X.bind(n))}if(s){const K=s.call(n,n);it(K)&&(t.data=os(K))}if(Pr=!0,i)for(const K in i){const X=i[K],ot=j(X)?X.bind(n,n):j(X.get)?X.get.bind(n,n):zt,Lt=!j(X)&&j(X.set)?X.set.bind(n):zt,yt=ze({get:ot,set:Lt});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>yt.value,set:wt=>yt.value=wt})}if(l)for(const K in l)vo(l[K],r,n,K);if(a){const K=j(a)?a.call(n):a;Reflect.ownKeys(K).forEach(X=>{Oa(X,K[X])})}u&&Os(u,t,"c");function z(K,X){W(X)?X.forEach(ot=>K(ot.bind(n))):X&&K(X.bind(n))}if(z(_a,f),z(mo,d),z(xa,p),z(ba,w),z(ma,A),z(ya,H),z($a,ut),z(Ma,Q),z(Ca,et),z(wa,T),z(yo,x),z(Sa,ht),W(lt))if(lt.length){const K=t.exposed||(t.exposed={});lt.forEach(X=>{Object.defineProperty(K,X,{get:()=>n[X],set:ot=>n[X]=ot,enumerable:!0})})}else t.exposed||(t.exposed={});P&&t.render===zt&&(t.render=P),U!=null&&(t.inheritAttrs=U),F&&(t.components=F),_&&(t.directives=_),ht&&ho(t)}function Aa(t,e,n=zt){W(t)&&(t=Or(t));for(const r in t){const s=t[r];let i;it(s)?"default"in s?i=Mn(s.from||r,s.default,!0):i=Mn(s.from||r):i=Mn(s),gt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Os(t,e,n){qt(W(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function vo(t,e,n,r){let s=r.includes(".")?Fo(n,r):()=>n[r];if(ct(t)){const i=e[t];j(i)&&$n(s,i)}else if(j(t))$n(s,t.bind(n));else if(it(t))if(W(t))t.forEach(i=>vo(i,e,n,r));else{const i=j(t.handler)?t.handler.bind(n):e[t.handler];j(i)&&$n(s,i,t)}}function _o(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let a;return l?a=l:!s.length&&!n&&!r?a=e:(a={},s.length&&s.forEach(c=>Hn(a,c,o,!0)),Hn(a,e,o)),it(e)&&i.set(e,a),a}function Hn(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Hn(t,i,n,!0),s&&s.forEach(o=>Hn(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=Ia[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Ia={data:Ls,props:Ds,emits:Ds,methods:We,computed:We,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:We,directives:We,watch:Na,provide:Ls,inject:Fa};function Ls(t,e){return e?t?function(){return mt(j(t)?t.call(this,this):t,j(e)?e.call(this,this):e)}:e:t}function Fa(t,e){return We(Or(t),Or(e))}function Or(t){if(W(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function vt(t,e){return t?[...new Set([].concat(t,e))]:e}function We(t,e){return t?mt(Object.create(null),t,e):e}function Ds(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:mt(Object.create(null),Ps(t),Ps(e??{})):e}function Na(t,e){if(!t)return e;if(!e)return t;const n=mt(Object.create(null),t);for(const r in e)n[r]=vt(t[r],e[r]);return n}function xo(){return{app:null,config:{isNativeTag:Pi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ra=0;function Pa(t,e){return function(r,s=null){j(r)||(r=mt({},r)),s!=null&&!it(s)&&(s=null);const i=xo(),o=new WeakSet,l=[];let a=!1;const c=i.app={_uid:Ra++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:_c,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&j(u.install)?(o.add(u),u.install(c,...f)):j(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!a){const p=c._ceVNode||At(r,s);return p.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(p,u,d),a=!0,c._container=u,u.__vue_app__=c,lr(p.component)}},onUnmount(u){l.push(u)},unmount(){a&&(qt(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=Ae;Ae=c;try{return u()}finally{Ae=f}}};return c}}let Ae=null;function Oa(t,e){if(xt){let n=xt.provides;const r=xt.parent&&xt.parent.provides;r===n&&(n=xt.provides=Object.create(r)),n[t]=e}}function Mn(t,e,n=!1){const r=hc();if(r||Ae){let s=Ae?Ae._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&j(e)?e.call(r&&r.proxy):e}}const bo={},wo=()=>Object.create(bo),So=t=>Object.getPrototypeOf(t)===bo;function La(t,e,n,r=!1){const s={},i=wo();t.propsDefaults=Object.create(null),Co(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Ql(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Da(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=G(s),[a]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(ir(t.emitsOptions,d))continue;const p=e[d];if(a)if(J(i,d))p!==i[d]&&(i[d]=p,c=!0);else{const w=ae(d);s[w]=Lr(a,l,w,p,t,!1)}else p!==i[d]&&(i[d]=p,c=!0)}}}else{Co(t,e,s,i)&&(c=!0);let u;for(const f in l)(!e||!J(e,f)&&((u=de(f))===f||!J(e,u)))&&(a?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=Lr(a,l,f,void 0,t,!0)):delete s[f]);if(i!==l)for(const f in i)(!e||!J(e,f))&&(delete i[f],c=!0)}c&&Zt(t.attrs,"set","")}function Co(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(Ye(a))continue;const c=e[a];let u;s&&J(s,u=ae(a))?!i||!i.includes(u)?n[u]=c:(l||(l={}))[u]=c:ir(t.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,o=!0)}if(i){const a=G(n),c=l||tt;for(let u=0;u<i.length;u++){const f=i[u];n[f]=Lr(s,a,f,c[f],t,!J(c,f))}}return o}function Lr(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=J(o,"default");if(l&&r===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&j(a)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=dn(s);r=c[n]=a.call(null,e),u()}}else r=a;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===de(n))&&(r=!0))}return r}const Ha=new WeakMap;function Mo(t,e,n=!1){const r=n?Ha:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let a=!1;if(!j(t)){const u=f=>{a=!0;const[d,p]=Mo(f,e,!0);mt(o,d),p&&l.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!a)return it(t)&&r.set(t,$e),$e;if(W(i))for(let u=0;u<i.length;u++){const f=ae(i[u]);Hs(f)&&(o[f]=tt)}else if(i)for(const u in i){const f=ae(u);if(Hs(f)){const d=i[u],p=o[f]=W(d)||j(d)?{type:d}:mt({},d),w=p.type;let A=!1,H=!0;if(W(w))for(let k=0;k<w.length;++k){const T=w[k],$=j(T)&&T.name;if($==="Boolean"){A=!0;break}else $==="String"&&(H=!1)}else A=j(w)&&w.name==="Boolean";p[0]=A,p[1]=H,(A||J(p,"default"))&&l.push(f)}}const c=[o,l];return it(t)&&r.set(t,c),c}function Hs(t){return t[0]!=="$"&&!Ye(t)}const fs=t=>t==="_"||t==="_ctx"||t==="$stable",ds=t=>W(t)?t.map(Wt):[Wt(t)],Va=(t,e,n)=>{if(e._n)return e;const r=da((...s)=>ds(e(...s)),n);return r._c=!1,r},$o=(t,e,n)=>{const r=t._ctx;for(const s in t){if(fs(s))continue;const i=t[s];if(j(i))e[s]=Va(s,i,r);else if(i!=null){const o=ds(i);e[s]=()=>o}}},ko=(t,e)=>{const n=ds(e);t.slots.default=()=>n},To=(t,e,n)=>{for(const r in e)(n||!fs(r))&&(t[r]=e[r])},Ua=(t,e,n)=>{const r=t.slots=wo();if(t.vnode.shapeFlag&32){const s=e._;s?(To(r,e,n),n&&Ui(r,"_",s,!0)):$o(e,r)}else e&&ko(t,e)},Ba=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=tt;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:To(s,e,n):(i=!e.$stable,$o(e,s)),o=e}else e&&(ko(t,e),o={default:1});if(i)for(const l in s)!fs(l)&&o[l]==null&&delete s[l]},Tt=rc;function Ka(t){return Wa(t)}function Wa(t,e){const n=tr();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:p=zt,insertStaticContent:w}=t,A=(h,g,v,C=null,b=null,S=null,N=void 0,I=null,E=!!g.dynamicChildren)=>{if(h===g)return;h&&!Ue(h,g)&&(C=mn(h),wt(h,b,S,!0),h=null),g.patchFlag===-2&&(E=!1,g.dynamicChildren=null);const{type:M,ref:V,shapeFlag:R}=g;switch(M){case or:H(h,g,v,C);break;case ue:k(h,g,v,C);break;case kn:h==null&&T(g,v,C,N);break;case dt:F(h,g,v,C,b,S,N,I,E);break;default:R&1?P(h,g,v,C,b,S,N,I,E):R&6?_(h,g,v,C,b,S,N,I,E):(R&64||R&128)&&M.process(h,g,v,C,b,S,N,I,E,De)}V!=null&&b?Ze(V,h&&h.ref,S,g||h,!g):V==null&&h&&h.ref!=null&&Ze(h.ref,null,S,h,!0)},H=(h,g,v,C)=>{if(h==null)r(g.el=l(g.children),v,C);else{const b=g.el=h.el;g.children!==h.children&&c(b,g.children)}},k=(h,g,v,C)=>{h==null?r(g.el=a(g.children||""),v,C):g.el=h.el},T=(h,g,v,C)=>{[h.el,h.anchor]=w(h.children,g,v,C,h.el,h.anchor)},$=({el:h,anchor:g},v,C)=>{let b;for(;h&&h!==g;)b=d(h),r(h,v,C),h=b;r(g,v,C)},x=({el:h,anchor:g})=>{let v;for(;h&&h!==g;)v=d(h),s(h),h=v;s(g)},P=(h,g,v,C,b,S,N,I,E)=>{g.type==="svg"?N="svg":g.type==="math"&&(N="mathml"),h==null?Q(g,v,C,b,S,N,I,E):ht(h,g,b,S,N,I,E)},Q=(h,g,v,C,b,S,N,I)=>{let E,M;const{props:V,shapeFlag:R,transition:O,dirs:B}=h;if(E=h.el=o(h.type,S,V&&V.is,V),R&8?u(E,h.children):R&16&&ut(h.children,E,null,C,b,xr(h,S),N,I),B&&he(h,null,C,"created"),et(E,h,h.scopeId,N,C),V){for(const nt in V)nt!=="value"&&!Ye(nt)&&i(E,nt,null,V[nt],S,C);"value"in V&&i(E,"value",null,V.value,S),(M=V.onVnodeBeforeMount)&&Ut(M,C,h)}B&&he(h,null,C,"beforeMount");const Y=za(b,O);Y&&O.beforeEnter(E),r(E,g,v),((M=V&&V.onVnodeMounted)||Y||B)&&Tt(()=>{M&&Ut(M,C,h),Y&&O.enter(E),B&&he(h,null,C,"mounted")},b)},et=(h,g,v,C,b)=>{if(v&&p(h,v),C)for(let S=0;S<C.length;S++)p(h,C[S]);if(b){let S=b.subTree;if(g===S||Ro(S.type)&&(S.ssContent===g||S.ssFallback===g)){const N=b.vnode;et(h,N,N.scopeId,N.slotScopeIds,b.parent)}}},ut=(h,g,v,C,b,S,N,I,E=0)=>{for(let M=E;M<h.length;M++){const V=h[M]=I?ie(h[M]):Wt(h[M]);A(null,V,g,v,C,b,S,N,I)}},ht=(h,g,v,C,b,S,N)=>{const I=g.el=h.el;let{patchFlag:E,dynamicChildren:M,dirs:V}=g;E|=h.patchFlag&16;const R=h.props||tt,O=g.props||tt;let B;if(v&&pe(v,!1),(B=O.onVnodeBeforeUpdate)&&Ut(B,v,g,h),V&&he(g,h,v,"beforeUpdate"),v&&pe(v,!0),(R.innerHTML&&O.innerHTML==null||R.textContent&&O.textContent==null)&&u(I,""),M?lt(h.dynamicChildren,M,I,v,C,xr(g,b),S):N||X(h,g,I,null,v,C,xr(g,b),S,!1),E>0){if(E&16)U(I,R,O,v,b);else if(E&2&&R.class!==O.class&&i(I,"class",null,O.class,b),E&4&&i(I,"style",R.style,O.style,b),E&8){const Y=g.dynamicProps;for(let nt=0;nt<Y.length;nt++){const Z=Y[nt],St=R[Z],Ct=O[Z];(Ct!==St||Z==="value")&&i(I,Z,St,Ct,b,v)}}E&1&&h.children!==g.children&&u(I,g.children)}else!N&&M==null&&U(I,R,O,v,b);((B=O.onVnodeUpdated)||V)&&Tt(()=>{B&&Ut(B,v,g,h),V&&he(g,h,v,"updated")},C)},lt=(h,g,v,C,b,S,N)=>{for(let I=0;I<g.length;I++){const E=h[I],M=g[I],V=E.el&&(E.type===dt||!Ue(E,M)||E.shapeFlag&198)?f(E.el):v;A(E,M,V,null,C,b,S,N,!0)}},U=(h,g,v,C,b)=>{if(g!==v){if(g!==tt)for(const S in g)!Ye(S)&&!(S in v)&&i(h,S,g[S],null,b,C);for(const S in v){if(Ye(S))continue;const N=v[S],I=g[S];N!==I&&S!=="value"&&i(h,S,I,N,b,C)}"value"in v&&i(h,"value",g.value,v.value,b)}},F=(h,g,v,C,b,S,N,I,E)=>{const M=g.el=h?h.el:l(""),V=g.anchor=h?h.anchor:l("");let{patchFlag:R,dynamicChildren:O,slotScopeIds:B}=g;B&&(I=I?I.concat(B):B),h==null?(r(M,v,C),r(V,v,C),ut(g.children||[],v,V,b,S,N,I,E)):R>0&&R&64&&O&&h.dynamicChildren?(lt(h.dynamicChildren,O,v,b,S,N,I),(g.key!=null||b&&g===b.subTree)&&Eo(h,g,!0)):X(h,g,v,V,b,S,N,I,E)},_=(h,g,v,C,b,S,N,I,E)=>{g.slotScopeIds=I,h==null?g.shapeFlag&512?b.ctx.activate(g,v,C,N,E):m(g,v,C,b,S,N,E):q(h,g,E)},m=(h,g,v,C,b,S,N)=>{const I=h.component=dc(h,C,b);if(po(h)&&(I.ctx.renderer=De),pc(I,!1,N),I.asyncDep){if(b&&b.registerDep(I,z,N),!h.el){const E=I.subTree=At(ue);k(null,E,g,v),h.placeholder=E.el}}else z(I,h,g,v,b,S,N)},q=(h,g,v)=>{const C=g.component=h.component;if(ec(h,g,v))if(C.asyncDep&&!C.asyncResolved){K(C,g,v);return}else C.next=g,C.update();else g.el=h.el,C.vnode=g},z=(h,g,v,C,b,S,N)=>{const I=()=>{if(h.isMounted){let{next:R,bu:O,u:B,parent:Y,vnode:nt}=h;{const Ht=Ao(h);if(Ht){R&&(R.el=nt.el,K(h,R,N)),Ht.asyncDep.then(()=>{h.isUnmounted||I()});return}}let Z=R,St;pe(h,!1),R?(R.el=nt.el,K(h,R,N)):R=nt,O&&Cn(O),(St=R.props&&R.props.onVnodeBeforeUpdate)&&Ut(St,Y,R,nt),pe(h,!0);const Ct=Us(h),Dt=h.subTree;h.subTree=Ct,A(Dt,Ct,f(Dt.el),mn(Dt),h,b,S),R.el=Ct.el,Z===null&&nc(h,Ct.el),B&&Tt(B,b),(St=R.props&&R.props.onVnodeUpdated)&&Tt(()=>Ut(St,Y,R,nt),b)}else{let R;const{el:O,props:B}=g,{bm:Y,m:nt,parent:Z,root:St,type:Ct}=h,Dt=Qe(g);pe(h,!1),Y&&Cn(Y),!Dt&&(R=B&&B.onVnodeBeforeMount)&&Ut(R,Z,g),pe(h,!0);{St.ce&&St.ce._def.shadowRoot!==!1&&St.ce._injectChildStyle(Ct);const Ht=h.subTree=Us(h);A(null,Ht,v,C,h,b,S),g.el=Ht.el}if(nt&&Tt(nt,b),!Dt&&(R=B&&B.onVnodeMounted)){const Ht=g;Tt(()=>Ut(R,Z,Ht),b)}(g.shapeFlag&256||Z&&Qe(Z.vnode)&&Z.vnode.shapeFlag&256)&&h.a&&Tt(h.a,b),h.isMounted=!0,g=v=C=null}};h.scope.on();const E=h.effect=new zi(I);h.scope.off();const M=h.update=E.run.bind(E),V=h.job=E.runIfDirty.bind(E);V.i=h,V.id=h.uid,E.scheduler=()=>cs(V),pe(h,!0),M()},K=(h,g,v)=>{g.component=h;const C=h.vnode.props;h.vnode=g,h.next=null,Da(h,g.props,C,v),Ba(h,g.children,v),te(),Fs(h),ee()},X=(h,g,v,C,b,S,N,I,E=!1)=>{const M=h&&h.children,V=h?h.shapeFlag:0,R=g.children,{patchFlag:O,shapeFlag:B}=g;if(O>0){if(O&128){Lt(M,R,v,C,b,S,N,I,E);return}else if(O&256){ot(M,R,v,C,b,S,N,I,E);return}}B&8?(V&16&&Le(M,b,S),R!==M&&u(v,R)):V&16?B&16?Lt(M,R,v,C,b,S,N,I,E):Le(M,b,S,!0):(V&8&&u(v,""),B&16&&ut(R,v,C,b,S,N,I,E))},ot=(h,g,v,C,b,S,N,I,E)=>{h=h||$e,g=g||$e;const M=h.length,V=g.length,R=Math.min(M,V);let O;for(O=0;O<R;O++){const B=g[O]=E?ie(g[O]):Wt(g[O]);A(h[O],B,v,null,b,S,N,I,E)}M>V?Le(h,b,S,!0,!1,R):ut(g,v,C,b,S,N,I,E,R)},Lt=(h,g,v,C,b,S,N,I,E)=>{let M=0;const V=g.length;let R=h.length-1,O=V-1;for(;M<=R&&M<=O;){const B=h[M],Y=g[M]=E?ie(g[M]):Wt(g[M]);if(Ue(B,Y))A(B,Y,v,null,b,S,N,I,E);else break;M++}for(;M<=R&&M<=O;){const B=h[R],Y=g[O]=E?ie(g[O]):Wt(g[O]);if(Ue(B,Y))A(B,Y,v,null,b,S,N,I,E);else break;R--,O--}if(M>R){if(M<=O){const B=O+1,Y=B<V?g[B].el:C;for(;M<=O;)A(null,g[M]=E?ie(g[M]):Wt(g[M]),v,Y,b,S,N,I,E),M++}}else if(M>O)for(;M<=R;)wt(h[M],b,S,!0),M++;else{const B=M,Y=M,nt=new Map;for(M=Y;M<=O;M++){const kt=g[M]=E?ie(g[M]):Wt(g[M]);kt.key!=null&&nt.set(kt.key,M)}let Z,St=0;const Ct=O-Y+1;let Dt=!1,Ht=0;const He=new Array(Ct);for(M=0;M<Ct;M++)He[M]=0;for(M=B;M<=R;M++){const kt=h[M];if(St>=Ct){wt(kt,b,S,!0);continue}let Vt;if(kt.key!=null)Vt=nt.get(kt.key);else for(Z=Y;Z<=O;Z++)if(He[Z-Y]===0&&Ue(kt,g[Z])){Vt=Z;break}Vt===void 0?wt(kt,b,S,!0):(He[Vt-Y]=M+1,Vt>=Ht?Ht=Vt:Dt=!0,A(kt,g[Vt],v,null,b,S,N,I,E),St++)}const $s=Dt?ja(He):$e;for(Z=$s.length-1,M=Ct-1;M>=0;M--){const kt=Y+M,Vt=g[kt],ks=g[kt+1],Ts=kt+1<V?ks.el||ks.placeholder:C;He[M]===0?A(null,Vt,v,Ts,b,S,N,I,E):Dt&&(Z<0||M!==$s[Z]?yt(Vt,v,Ts,2):Z--)}}},yt=(h,g,v,C,b=null)=>{const{el:S,type:N,transition:I,children:E,shapeFlag:M}=h;if(M&6){yt(h.component.subTree,g,v,C);return}if(M&128){h.suspense.move(g,v,C);return}if(M&64){N.move(h,g,v,De);return}if(N===dt){r(S,g,v);for(let R=0;R<E.length;R++)yt(E[R],g,v,C);r(h.anchor,g,v);return}if(N===kn){$(h,g,v);return}if(C!==2&&M&1&&I)if(C===0)I.beforeEnter(S),r(S,g,v),Tt(()=>I.enter(S),b);else{const{leave:R,delayLeave:O,afterLeave:B}=I,Y=()=>{h.ctx.isUnmounted?s(S):r(S,g,v)},nt=()=>{S._isLeaving&&S[ga](!0),R(S,()=>{Y(),B&&B()})};O?O(S,Y,nt):nt()}else r(S,g,v)},wt=(h,g,v,C=!1,b=!1)=>{const{type:S,props:N,ref:I,children:E,dynamicChildren:M,shapeFlag:V,patchFlag:R,dirs:O,cacheIndex:B}=h;if(R===-2&&(b=!1),I!=null&&(te(),Ze(I,null,v,h,!0),ee()),B!=null&&(g.renderCache[B]=void 0),V&256){g.ctx.deactivate(h);return}const Y=V&1&&O,nt=!Qe(h);let Z;if(nt&&(Z=N&&N.onVnodeBeforeUnmount)&&Ut(Z,g,h),V&6)wl(h.component,v,C);else{if(V&128){h.suspense.unmount(v,C);return}Y&&he(h,null,g,"beforeUnmount"),V&64?h.type.remove(h,g,v,De,C):M&&!M.hasOnce&&(S!==dt||R>0&&R&64)?Le(M,g,v,!1,!0):(S===dt&&R&384||!b&&V&16)&&Le(E,g,v),C&&gn(h)}(nt&&(Z=N&&N.onVnodeUnmounted)||Y)&&Tt(()=>{Z&&Ut(Z,g,h),Y&&he(h,null,g,"unmounted")},v)},gn=h=>{const{type:g,el:v,anchor:C,transition:b}=h;if(g===dt){be(v,C);return}if(g===kn){x(h);return}const S=()=>{s(v),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(h.shapeFlag&1&&b&&!b.persisted){const{leave:N,delayLeave:I}=b,E=()=>N(v,S);I?I(h.el,S,E):E()}else S()},be=(h,g)=>{let v;for(;h!==g;)v=d(h),s(h),h=v;s(g)},wl=(h,g,v)=>{const{bum:C,scope:b,job:S,subTree:N,um:I,m:E,a:M}=h;Vs(E),Vs(M),C&&Cn(C),b.stop(),S&&(S.flags|=8,wt(N,h,g,v)),I&&Tt(I,g),Tt(()=>{h.isUnmounted=!0},g)},Le=(h,g,v,C=!1,b=!1,S=0)=>{for(let N=S;N<h.length;N++)wt(h[N],g,v,C,b)},mn=h=>{if(h.shapeFlag&6)return mn(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const g=d(h.anchor||h.el),v=g&&g[ha];return v?d(v):g};let hr=!1;const Ms=(h,g,v)=>{h==null?g._vnode&&wt(g._vnode,null,null,!0):A(g._vnode||null,h,g,null,null,null,v),g._vnode=h,hr||(hr=!0,Fs(),co(),hr=!1)},De={p:A,um:wt,m:yt,r:gn,mt:m,mc:ut,pc:X,pbc:lt,n:mn,o:t};return{render:Ms,hydrate:void 0,createApp:Pa(Ms)}}function xr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function pe({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function za(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Eo(t,e,n=!1){const r=t.children,s=e.children;if(W(r)&&W(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=ie(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Eo(o,l)),l.type===or&&l.patchFlag!==-1&&(l.el=o.el),l.type===ue&&!l.el&&(l.el=o.el)}}function ja(t){const e=t.slice(),n=[0];let r,s,i,o,l;const a=t.length;for(r=0;r<a;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<c?i=l+1:o=l;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Ao(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ao(e)}function Vs(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const qa=Symbol.for("v-scx"),Xa=()=>Mn(qa);function $n(t,e,n){return Io(t,e,n)}function Io(t,e,n=tt){const{immediate:r,deep:s,flush:i,once:o}=n,l=mt({},n),a=e&&r||!e&&i!=="post";let c;if(ln){if(i==="sync"){const p=Xa();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!a){const p=()=>{};return p.stop=zt,p.resume=zt,p.pause=zt,p}}const u=xt;l.call=(p,w,A)=>qt(p,u,w,A);let f=!1;i==="post"?l.scheduler=p=>{Tt(p,u&&u.suspense)}:i!=="sync"&&(f=!0,l.scheduler=(p,w)=>{w?p():cs(p)}),l.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const d=aa(t,e,l);return ln&&(c?c.push(d):a&&d()),d}function Ya(t,e,n){const r=this.proxy,s=ct(t)?t.includes(".")?Fo(r,t):()=>r[t]:t.bind(r,r);let i;j(e)?i=e:(i=e.handler,n=e);const o=dn(this),l=Io(s,i.bind(r),n);return o(),l}function Fo(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Ga=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ae(e)}Modifiers`]||t[`${de(e)}Modifiers`];function Ja(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||tt;let s=n;const i=e.startsWith("update:"),o=i&&Ga(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>ct(u)?u.trim():u)),o.number&&(s=n.map(Tr)));let l,a=r[l=pr(e)]||r[l=pr(ae(e))];!a&&i&&(a=r[l=pr(de(e))]),a&&qt(a,t,6,s);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,qt(c,t,6,s)}}const Za=new WeakMap;function No(t,e,n=!1){const r=n?Za:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!j(t)){const a=c=>{const u=No(c,e,!0);u&&(l=!0,mt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!i&&!l?(it(t)&&r.set(t,null),null):(W(i)?i.forEach(a=>o[a]=null):mt(o,i),it(t)&&r.set(t,o),o)}function ir(t,e){return!t||!Jn(e)?!1:(e=e.slice(2).replace(/Once$/,""),J(t,e[0].toLowerCase()+e.slice(1))||J(t,de(e))||J(t,e))}function Us(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:f,data:d,setupState:p,ctx:w,inheritAttrs:A}=t,H=Ln(t);let k,T;try{if(n.shapeFlag&4){const x=s||r,P=x;k=Wt(c.call(P,x,u,f,p,d,w)),T=l}else{const x=e;k=Wt(x.length>1?x(f,{attrs:l,slots:o,emit:a}):x(f,null)),T=e.props?l:Qa(l)}}catch(x){en.length=0,nr(x,t,1),k=At(ue)}let $=k;if(T&&A!==!1){const x=Object.keys(T),{shapeFlag:P}=$;x.length&&P&7&&(i&&x.some(Jr)&&(T=tc(T,i)),$=Ne($,T,!1,!0))}return n.dirs&&($=Ne($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&us($,n.transition),k=$,Ln(H),k}const Qa=t=>{let e;for(const n in t)(n==="class"||n==="style"||Jn(n))&&((e||(e={}))[n]=t[n]);return e},tc=(t,e)=>{const n={};for(const r in t)(!Jr(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function ec(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:a}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?Bs(r,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==r[d]&&!ir(c,d))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Bs(r,o,c):!0:!!o;return!1}function Bs(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!ir(n,i))return!0}return!1}function nc({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ro=t=>t.__isSuspense;function rc(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):fa(t)}const dt=Symbol.for("v-fgt"),or=Symbol.for("v-txt"),ue=Symbol.for("v-cmt"),kn=Symbol.for("v-stc"),en=[];let Et=null;function L(t=!1){en.push(Et=t?null:[])}function sc(){en.pop(),Et=en[en.length-1]||null}let on=1;function Ks(t,e=!1){on+=t,t<0&&Et&&e&&(Et.hasOnce=!0)}function Po(t){return t.dynamicChildren=on>0?Et||$e:null,sc(),on>0&&Et&&Et.push(t),t}function D(t,e,n,r,s,i){return Po(y(t,e,n,r,s,i,!0))}function ic(t,e,n,r,s){return Po(At(t,e,n,r,s,!0))}function Oo(t){return t?t.__v_isVNode===!0:!1}function Ue(t,e){return t.type===e.type&&t.key===e.key}const Lo=({key:t})=>t??null,Tn=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ct(t)||gt(t)||j(t)?{i:It,r:t,k:e,f:!!n}:t:null);function y(t,e=null,n=null,r=0,s=null,i=t===dt?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Lo(e),ref:e&&Tn(e),scopeId:fo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:It};return l?(hs(a,n),i&128&&t.normalize(a)):n&&(a.shapeFlag|=ct(n)?8:16),on>0&&!o&&Et&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&Et.push(a),a}const At=oc;function oc(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===ka)&&(t=ue),Oo(t)){const l=Ne(t,e,!0);return n&&hs(l,n),on>0&&!i&&Et&&(l.shapeFlag&6?Et[Et.indexOf(t)]=l:Et.push(l)),l.patchFlag=-2,l}if(vc(t)&&(t=t.__vccOpts),e){e=lc(e);let{class:l,style:a}=e;l&&!ct(l)&&(e.class=Fe(l)),it(a)&&(as(a)&&!W(a)&&(a=mt({},a)),e.style=ts(a))}const o=ct(t)?1:Ro(t)?128:pa(t)?64:it(t)?4:j(t)?2:0;return y(t,e,n,r,s,o,i,!0)}function lc(t){return t?as(t)||So(t)?mt({},t):t:null}function Ne(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:a}=t,c=e?cc(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Lo(c),ref:e&&e.ref?n&&i?W(i)?i.concat(Tn(e)):[i,Tn(e)]:Tn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==dt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ne(t.ssContent),ssFallback:t.ssFallback&&Ne(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&r&&us(u,a.clone(u)),u}function Dr(t=" ",e=0){return At(or,null,t,e)}function ac(t,e){const n=At(kn,null,t);return n.staticCount=e,n}function at(t="",e=!1){return e?(L(),ic(ue,null,t)):At(ue,null,t)}function Wt(t){return t==null||typeof t=="boolean"?At(ue):W(t)?At(dt,null,t.slice()):Oo(t)?ie(t):At(or,null,String(t))}function ie(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ne(t)}function hs(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(W(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),hs(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!So(e)?e._ctx=It:s===3&&It&&(It.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else j(e)?(e={default:e,_ctx:It},n=32):(e=String(e),r&64?(n=16,e=[Dr(e)]):n=8);t.children=e,t.shapeFlag|=n}function cc(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Fe([e.class,r.class]));else if(s==="style")e.style=ts([e.style,r.style]);else if(Jn(s)){const i=e[s],o=r[s];o&&i!==o&&!(W(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Ut(t,e,n,r=null){qt(t,e,7,[n,r])}const uc=xo();let fc=0;function dc(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||uc,i={uid:fc++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Nl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mo(r,s),emitsOptions:No(r,s),emit:null,emitted:null,propsDefaults:tt,inheritAttrs:r.inheritAttrs,ctx:tt,data:tt,props:tt,attrs:tt,slots:tt,refs:tt,setupState:tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Ja.bind(null,i),t.ce&&t.ce(i),i}let xt=null;const hc=()=>xt||It;let Vn,Hr;{const t=tr(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Vn=e("__VUE_INSTANCE_SETTERS__",n=>xt=n),Hr=e("__VUE_SSR_SETTERS__",n=>ln=n)}const dn=t=>{const e=xt;return Vn(t),t.scope.on(),()=>{t.scope.off(),Vn(e)}},Ws=()=>{xt&&xt.scope.off(),Vn(null)};function Do(t){return t.vnode.shapeFlag&4}let ln=!1;function pc(t,e=!1,n=!1){e&&Hr(e);const{props:r,children:s}=t.vnode,i=Do(t);La(t,r,i,e),Ua(t,s,n||e);const o=i?gc(t,e):void 0;return e&&Hr(!1),o}function gc(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ta);const{setup:r}=n;if(r){te();const s=t.setupContext=r.length>1?yc(t):null,i=dn(t),o=fn(r,t,0,[t.props,s]),l=Li(o);if(ee(),i(),(l||t.sp)&&!Qe(t)&&ho(t),l){if(o.then(Ws,Ws),e)return o.then(a=>{zs(t,a)}).catch(a=>{nr(a,t,0)});t.asyncDep=o}else zs(t,o)}else Ho(t)}function zs(t,e,n){j(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:it(e)&&(t.setupState=io(e)),Ho(t)}function Ho(t,e,n){const r=t.type;t.render||(t.render=r.render||zt);{const s=dn(t);te();try{Ea(t)}finally{ee(),s()}}}const mc={get(t,e){return pt(t,"get",""),t[e]}};function yc(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,mc),slots:t.slots,emit:t.emit,expose:e}}function lr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(io(ta(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in tn)return tn[n](t)},has(e,n){return n in e||n in tn}})):t.proxy}function vc(t){return j(t)&&"__vccOpts"in t}const ze=(t,e)=>oa(t,e,ln),_c="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vr;const js=typeof window<"u"&&window.trustedTypes;if(js)try{Vr=js.createPolicy("vue",{createHTML:t=>t})}catch{}const Vo=Vr?t=>Vr.createHTML(t):t=>t,xc="http://www.w3.org/2000/svg",bc="http://www.w3.org/1998/Math/MathML",Jt=typeof document<"u"?document:null,qs=Jt&&Jt.createElement("template"),wc={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Jt.createElementNS(xc,t):e==="mathml"?Jt.createElementNS(bc,t):n?Jt.createElement(t,{is:n}):Jt.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Jt.createTextNode(t),createComment:t=>Jt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Jt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{qs.innerHTML=Vo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=qs.content;if(r==="svg"||r==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Sc=Symbol("_vtc");function Cc(t,e,n){const r=t[Sc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Xs=Symbol("_vod"),Mc=Symbol("_vsh"),$c=Symbol(""),kc=/(?:^|;)\s*display\s*:/;function Tc(t,e,n){const r=t.style,s=ct(n);let i=!1;if(n&&!s){if(e)if(ct(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&En(r,l,"")}else for(const o in e)n[o]==null&&En(r,o,"");for(const o in n)o==="display"&&(i=!0),En(r,o,n[o])}else if(s){if(e!==n){const o=r[$c];o&&(n+=";"+o),r.cssText=n,i=kc.test(n)}}else e&&t.removeAttribute("style");Xs in t&&(t[Xs]=i?r.display:"",t[Mc]&&(r.display="none"))}const Ys=/\s*!important$/;function En(t,e,n){if(W(n))n.forEach(r=>En(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Ec(t,e);Ys.test(n)?t.setProperty(de(r),n.replace(Ys,""),"important"):t[r]=n}}const Gs=["Webkit","Moz","ms"],br={};function Ec(t,e){const n=br[e];if(n)return n;let r=ae(e);if(r!=="filter"&&r in t)return br[e]=r;r=Vi(r);for(let s=0;s<Gs.length;s++){const i=Gs[s]+r;if(i in t)return br[e]=i}return e}const Js="http://www.w3.org/1999/xlink";function Zs(t,e,n,r,s,i=Fl(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Js,e.slice(6,e.length)):t.setAttributeNS(Js,e,n):n==null||i&&!Bi(n)?t.removeAttribute(e):t.setAttribute(e,i?"":fe(n)?String(n):n)}function Qs(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Vo(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Bi(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Ce(t,e,n,r){t.addEventListener(e,n,r)}function Ac(t,e,n,r){t.removeEventListener(e,n,r)}const ti=Symbol("_vei");function Ic(t,e,n,r,s=null){const i=t[ti]||(t[ti]={}),o=i[e];if(r&&o)o.value=r;else{const[l,a]=Fc(e);if(r){const c=i[e]=Pc(r,s);Ce(t,l,c,a)}else o&&(Ac(t,l,o,a),i[e]=void 0)}}const ei=/(?:Once|Passive|Capture)$/;function Fc(t){let e;if(ei.test(t)){e={};let r;for(;r=t.match(ei);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):de(t.slice(2)),e]}let wr=0;const Nc=Promise.resolve(),Rc=()=>wr||(Nc.then(()=>wr=0),wr=Date.now());function Pc(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;qt(Oc(r,n.value),e,5,[r])};return n.value=t,n.attached=Rc(),n}function Oc(t,e){if(W(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const ni=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Lc=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?Cc(t,r,o):e==="style"?Tc(t,n,r):Jn(e)?Jr(e)||Ic(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Dc(t,e,r,o))?(Qs(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Zs(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ct(r))?Qs(t,ae(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Zs(t,e,r,o))};function Dc(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ni(e)&&j(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ni(e)&&ct(n)?!1:e in t}const ri=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?n=>Cn(e,n):e};function Hc(t){t.target.composing=!0}function si(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Sr=Symbol("_assign"),ii={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Sr]=ri(s);const i=r||s.props&&s.props.type==="number";Ce(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=Tr(l)),t[Sr](l)}),n&&Ce(t,"change",()=>{t.value=t.value.trim()}),e||(Ce(t,"compositionstart",Hc),Ce(t,"compositionend",si),Ce(t,"change",si))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Sr]=ri(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?Tr(t.value):t.value,a=e??"";l!==a&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===a)||(t.value=a))}},Vc=["ctrl","shift","alt","meta"],Uc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Vc.some(n=>t[`${n}Key`]&&!e.includes(n))},Bc=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const l=Uc[e[o]];if(l&&l(s,e))return}return t(s,...i)}))},Kc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},oi=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=de(s.key);if(e.some(o=>o===i||Kc[o]===i))return t(s)}))},Wc=mt({patchProp:Lc},wc);let li;function zc(){return li||(li=Ka(Wc))}const jc=((...t)=>{const e=zc().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Xc(r);if(!s)return;const i=e._component;!j(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,qc(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function qc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Xc(t){return ct(t)?document.querySelector(t):t}const Yc={class:"task-input"},Gc={class:"input-form"},Jc={class:"form-container"},Zc={class:"basic-info-row"},Qc={class:"form-group form-group-name"},tu={class:"form-group form-group-duration"},eu={class:"form-group button-group"},nu=["disabled"],ru={class:"dependencies-row"},su={class:"form-group form-group-multi"},iu={class:"multi-select-container"},ou={class:"selected-items"},lu={class:"tag-name"},au=["value","onChange"],cu=["value","onChange"],uu=["onClick"],fu={key:0,class:"placeholder"},du={key:0,class:"available-items"},hu=["onClick"],pu={class:"form-group form-group-multi"},gu={class:"multi-select-container"},mu={class:"selected-items"},yu={class:"tag-name"},vu=["value","onChange"],_u=["value","onChange"],xu=["onClick"],bu={key:0,class:"placeholder"},wu={key:0,class:"available-items"},Su=["onClick"],Cu={key:0,class:"task-list"},Mu={class:"table-container"},$u={class:"task-name"},ku={class:"task-duration"},Tu={class:"task-deps"},Eu={key:0,class:"empty"},Au={key:1},Iu={class:"task-deps"},Fu={key:0,class:"empty"},Nu={key:1},Ru={class:"task-actions"},Pu=["onClick"],Ou=["onClick"],Lu={key:1,class:"empty-state"},Du={key:2,class:"action-buttons"},Hu=rr({__name:"TaskInput",props:{tasks:{}},emits:["addTask","updateTask","removeTask","clearTasks","calculate"],setup(t,{emit:e}){const n=t,r=e,s=Kt({name:"",duration:null,predecessors:[],successors:[]}),i=Kt(null),o=ze(()=>s.value.name.trim()!==""&&s.value.duration!==null&&s.value.duration>0),l=ze(()=>{const F=s.value.predecessors.map(_=>_.taskId);return n.tasks.filter(_=>!F.includes(_.id)&&_.id!==i.value)}),a=ze(()=>{const F=s.value.successors.map(_=>_.taskId);return n.tasks.filter(_=>!F.includes(_.id)&&_.id!==i.value)}),c=ze(()=>{const F=new Set;for(const _ of n.tasks){if(F.has(_.name))return!0;F.add(_.name)}return!1});function u(F){const _=n.tasks.find(m=>m.id===F);return _?_.name:F}function f(F,_="FS"){s.value.predecessors.some(q=>q.taskId===F)||s.value.predecessors.push({taskId:F,type:_,lag:0})}function d(F){s.value.predecessors=s.value.predecessors.filter(_=>_.taskId!==F)}function p(F,_){s.value.predecessors=s.value.predecessors.map(m=>m.taskId===F?{taskId:m.taskId,type:_,lag:m.lag??0}:m)}function w(F,_){s.value.predecessors=s.value.predecessors.map(m=>m.taskId===F?{taskId:m.taskId,type:m.type,lag:isNaN(_)?0:_}:m)}function A(F,_="FS"){s.value.successors.some(q=>q.taskId===F)||s.value.successors.push({taskId:F,type:_,lag:0})}function H(F){s.value.successors=s.value.successors.filter(_=>_.taskId!==F)}function k(F,_){s.value.successors=s.value.successors.map(m=>m.taskId===F?{taskId:m.taskId,type:_,lag:m.lag??0}:m)}function T(F,_){s.value.successors=s.value.successors.map(m=>m.taskId===F?{taskId:m.taskId,type:m.type,lag:isNaN(_)?0:_}:m)}function $(){if(!o.value)return;const F=s.value.name.trim();if(i.value){const _=n.tasks.find(m=>m.id!==i.value&&m.name===F);if(_)if(confirm(`工項「${F}」已存在，是否要合併依賴關係到現有工項？`)){const m=x(_.predecessors,s.value.predecessors),q=x(_.successors,s.value.successors),z={id:_.id,name:F,duration:s.value.duration,predecessors:m,successors:q};r("updateTask",z),r("removeTask",i.value),i.value=null}else return;else{const m={id:i.value,name:F,duration:s.value.duration,predecessors:[...s.value.predecessors],successors:[...s.value.successors]};r("updateTask",m),i.value=null}}else{const _=n.tasks.find(m=>m.name===F);if(_)if(confirm(`工項「${F}」已存在，是否要合併依賴關係到現有工項？`)){const m=x(_.predecessors,s.value.predecessors),q=x(_.successors,s.value.successors),z={..._,duration:s.value.duration,predecessors:m,successors:q};r("updateTask",z)}else return;else{const m={id:`task-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:F,duration:s.value.duration,predecessors:[...s.value.predecessors],successors:[...s.value.successors]};r("addTask",m)}}s.value={name:"",duration:null,predecessors:[],successors:[]}}function x(F,_){const m=[...F];for(const q of _)m.some(K=>K.taskId===q.taskId&&K.type===q.type&&(K.lag||0)===(q.lag||0))||m.push(q);return m}function P(F){const _=n.tasks.find(m=>m.id===F);_&&(i.value=F,s.value={name:_.name,duration:_.duration,predecessors:[..._.predecessors],successors:[..._.successors]},window.scrollTo({top:0,behavior:"smooth"}))}function Q(){i.value=null,s.value={name:"",duration:null,predecessors:[],successors:[]}}function et(F){r("removeTask",F)}function ut(){confirm("確定要清空所有工項嗎？")&&r("clearTasks")}function ht(){const F=new Map;for(const z of n.tasks)F.has(z.name)||F.set(z.name,[]),F.get(z.name).push(z);const _=Array.from(F.entries()).filter(([z,K])=>K.length>1);if(_.length===0)return;const m=_.map(([z,K])=>`「${z}」(${K.length}個)`).join("、");if(!confirm(`發現重複工項：${m}

是否要合併這些重複工項？
合併後將保留第一個工項並整合所有依賴關係。`))return;const q=[];for(const[z,K]of _){if(K.length===0)continue;const X=K[0],ot=K.slice(1);let Lt=[...X.predecessors],yt=[...X.successors],wt=X.duration;for(const be of ot)Lt=x(Lt,be.predecessors),yt=x(yt,be.successors),wt=Math.max(wt,be.duration),q.push(be.id);const gn={id:X.id,name:X.name,duration:wt,predecessors:Lt,successors:yt};r("updateTask",gn)}for(const z of q)r("removeTask",z)}function lt(){r("calculate")}function U(F){return F.map(_=>{const m=n.tasks.find(K=>K.id===_.taskId),q=m?m.name:_.taskId,z=_.lag&&_.lag!==0?` Lag ${_.lag>0?"+":""}${_.lag}`:"";return`${q} (${_.type}${z})`})}return(F,_)=>(L(),D("div",Yc,[_[10]||(_[10]=y("div",{class:"task-input-header"},[y("h2",null,"工項輸入"),y("p",{class:"subtitle"},"輸入工項名稱、工期和依賴關係")],-1)),y("div",Gc,[y("div",Jc,[y("div",Zc,[y("div",Qc,[_[2]||(_[2]=y("label",{for:"task-name"},"工項名稱",-1)),Ns(y("input",{id:"task-name","onUpdate:modelValue":_[0]||(_[0]=m=>s.value.name=m),type:"text",placeholder:"請輸入工項名稱",onKeyup:oi($,["enter"])},null,544),[[ii,s.value.name]])]),y("div",tu,[_[3]||(_[3]=y("label",{for:"task-duration"},"工期（天）",-1)),Ns(y("input",{id:"task-duration","onUpdate:modelValue":_[1]||(_[1]=m=>s.value.duration=m),type:"number",min:"1",placeholder:"請輸入工期",onKeyup:oi($,["enter"])},null,544),[[ii,s.value.duration,void 0,{number:!0}]])]),y("div",eu,[y("button",{class:"btn btn-primary",onClick:$,disabled:!o.value},st(i.value?"更新工項":"新增工項"),9,nu),i.value?(L(),D("button",{key:0,class:"btn btn-secondary",onClick:Q}," 取消 ")):at("",!0)])]),y("div",ru,[y("div",su,[_[5]||(_[5]=y("label",null,"前置作業",-1)),y("div",iu,[y("div",ou,[(L(!0),D(dt,null,oe(s.value.predecessors,m=>(L(),D("span",{key:m.taskId,class:"tag tag-with-type"},[y("span",lu,st(u(m.taskId)),1),y("select",{value:m.type,class:"tag-type-select",onChange:q=>p(m.taskId,q.target.value),title:"選擇關係類型"},[..._[4]||(_[4]=[y("option",{value:"FS"},"FS",-1),y("option",{value:"SS"},"SS",-1),y("option",{value:"FF"},"FF",-1),y("option",{value:"SF"},"SF",-1)])],40,au),y("input",{type:"number",value:m.lag||0,onChange:q=>w(m.taskId,parseInt(q.target.value)),class:"tag-lag-input",placeholder:"0",title:"Lag值（天數）"},null,40,cu),y("button",{type:"button",class:"tag-remove",onClick:q=>d(m.taskId),title:"移除"}," × ",8,uu)]))),128)),s.value.predecessors.length===0?(L(),D("span",fu," 無 ")):at("",!0)]),l.value.length>0?(L(),D("div",du,[(L(!0),D(dt,null,oe(l.value,m=>(L(),D("button",{key:m.id,type:"button",class:"item-btn",onClick:q=>f(m.id)},st(m.name),9,hu))),128))])):at("",!0)])]),y("div",pu,[_[7]||(_[7]=y("label",null,"後續作業",-1)),y("div",gu,[y("div",mu,[(L(!0),D(dt,null,oe(s.value.successors,m=>(L(),D("span",{key:m.taskId,class:"tag tag-with-type"},[y("span",yu,st(u(m.taskId)),1),y("select",{value:m.type,class:"tag-type-select",onChange:q=>k(m.taskId,q.target.value),title:"選擇關係類型"},[..._[6]||(_[6]=[y("option",{value:"FS"},"FS",-1),y("option",{value:"SS"},"SS",-1),y("option",{value:"FF"},"FF",-1),y("option",{value:"SF"},"SF",-1)])],40,vu),y("input",{type:"number",value:m.lag||0,onChange:q=>T(m.taskId,parseInt(q.target.value)),class:"tag-lag-input",placeholder:"0",title:"Lag值（天數）"},null,40,_u),y("button",{type:"button",class:"tag-remove",onClick:q=>H(m.taskId),title:"移除"}," × ",8,xu)]))),128)),s.value.successors.length===0?(L(),D("span",bu," 無 ")):at("",!0)]),a.value.length>0?(L(),D("div",wu,[(L(!0),D(dt,null,oe(a.value,m=>(L(),D("button",{key:m.id,type:"button",class:"item-btn",onClick:q=>A(m.id)},st(m.name),9,Su))),128))])):at("",!0)])])])])]),t.tasks.length>0?(L(),D("div",Cu,[y("h3",null,"已新增工項 ("+st(t.tasks.length)+")",1),y("div",Mu,[y("table",null,[_[8]||(_[8]=y("thead",null,[y("tr",null,[y("th",null,"工項名稱"),y("th",null,"工期"),y("th",null,"前置作業"),y("th",null,"後續作業"),y("th",null,"操作")])],-1)),y("tbody",null,[(L(!0),D(dt,null,oe(t.tasks,m=>(L(),D("tr",{key:m.id},[y("td",$u,st(m.name),1),y("td",ku,st(m.duration)+" 天",1),y("td",Tu,[m.predecessors.length===0?(L(),D("span",Eu,"無")):(L(),D("span",Au,st(U(m.predecessors).join(", ")),1))]),y("td",Iu,[m.successors.length===0?(L(),D("span",Fu,"無")):(L(),D("span",Nu,st(U(m.successors).join(", ")),1))]),y("td",Ru,[y("button",{class:"btn btn-small btn-secondary",onClick:q=>P(m.id)}," 編輯 ",8,Pu),y("button",{class:"btn btn-small btn-danger",onClick:q=>et(m.id)}," 刪除 ",8,Ou)])]))),128))])])])])):(L(),D("div",Lu,[..._[9]||(_[9]=[y("p",null,"尚未新增任何工項，請在上方表單輸入工項資料",-1)])])),t.tasks.length>0?(L(),D("div",Du,[c.value?(L(),D("button",{key:0,class:"btn btn-secondary",onClick:ht}," 合併重複工項 ")):at("",!0),y("button",{class:"btn btn-secondary",onClick:ut}," 清空所有工項 "),y("button",{class:"btn btn-success",onClick:lt}," 計算排程 ")])):at("",!0)]))}}),ar=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},Vu=ar(Hu,[["__scopeId","data-v-baa88424"]]),Uu={class:"cpm-result"},Bu={class:"result-header"},Ku={key:0,class:"summary"},Wu={class:"summary-item"},zu={class:"value highlight"},ju={class:"summary-item"},qu={class:"value"},Xu={key:0,class:"error-box"},Yu={key:1,class:"warning-box"},Gu={key:2},Ju={class:"critical-path-section"},Zu={class:"critical-path-flow"},Qu={class:"task-badge critical"},tf={key:0,class:"arrow"},ef={class:"table-section"},nf={class:"table-container"},rf={class:"task-name"},sf={class:"name-cell"},of={class:"task-tags"},lf={key:0,class:"tag tag-start"},af={key:1,class:"tag tag-end"},cf={class:"center"},uf={class:"center"},ff={class:"center"},df={class:"center"},hf={class:"center"},pf={class:"center"},gf={class:"center"},mf={key:0,class:"critical-badge"},yf={key:1},vf={key:3,class:"empty-state"},_f=rr({__name:"CPMResultTable",props:{cpmResult:{}},setup(t){const e=t;function n(r){if(!e.cpmResult)return r;const s=e.cpmResult.tasks.find(i=>i.id===r);return s?s.name:r}return(r,s)=>(L(),D("div",Uu,[y("div",Bu,[s[2]||(s[2]=y("h2",null,"CPM 計算結果",-1)),t.cpmResult?(L(),D("div",Ku,[y("div",Wu,[s[0]||(s[0]=y("span",{class:"label"},"專案總工期：",-1)),y("span",zu,st(t.cpmResult.totalDuration)+" 天",1)]),y("div",ju,[s[1]||(s[1]=y("span",{class:"label"},"關鍵工項數量：",-1)),y("span",qu,st(t.cpmResult.criticalPath.length)+" 項",1)])])):at("",!0)]),t.cpmResult?.errors&&t.cpmResult.errors.length>0?(L(),D("div",Xu,[s[3]||(s[3]=y("h3",null,"⚠️ 錯誤訊息",-1)),y("ul",null,[(L(!0),D(dt,null,oe(t.cpmResult.errors,(i,o)=>(L(),D("li",{key:o},st(i),1))),128))])])):at("",!0),t.cpmResult?.hasCycle?(L(),D("div",Yu,[...s[4]||(s[4]=[y("h3",null,"⚠️ 檢測到循環依賴",-1),y("p",null,"工項之間存在循環依賴關係，無法進行 CPM 計算。請檢查並修正依賴關係。",-1)])])):at("",!0),t.cpmResult&&!t.cpmResult.hasCycle&&(!t.cpmResult.errors||t.cpmResult.errors.length===0)?(L(),D("div",Gu,[y("div",Ju,[s[5]||(s[5]=y("h3",null,"🔴 關鍵路徑",-1)),y("div",Zu,[(L(!0),D(dt,null,oe(t.cpmResult.criticalPath,(i,o)=>(L(),D("div",{key:i,class:"path-item"},[y("span",Qu,st(n(i)),1),o<t.cpmResult.criticalPath.length-1?(L(),D("span",tf,"→")):at("",!0)]))),128))])]),y("div",ef,[s[7]||(s[7]=y("h3",null,"詳細計算結果",-1)),y("div",nf,[y("table",null,[s[6]||(s[6]=y("thead",null,[y("tr",null,[y("th",null,"工項名稱"),y("th",null,"工期(天)"),y("th",null,"ES"),y("th",null,"EF"),y("th",null,"LS"),y("th",null,"LF"),y("th",null,"TF"),y("th",null,"FF"),y("th",null,"關鍵工項")])],-1)),y("tbody",null,[(L(!0),D(dt,null,oe(t.cpmResult.tasks,i=>(L(),D("tr",{key:i.id,class:Fe({"critical-row":i.isCritical})},[y("td",rf,[y("div",sf,[y("span",null,st(i.name),1),y("div",of,[i.isStart?(L(),D("span",lf,"起始")):at("",!0),i.isEnd?(L(),D("span",af,"結束")):at("",!0)])])]),y("td",cf,st(i.duration),1),y("td",uf,st(i.es??"-"),1),y("td",ff,st(i.ef??"-"),1),y("td",df,st(i.ls??"-"),1),y("td",hf,st(i.lf??"-"),1),y("td",{class:Fe(["center",{"zero-float":i.tf===0}])},st(i.tf??"-"),3),y("td",pf,st(i.ff??"-"),1),y("td",gf,[i.isCritical?(L(),D("span",mf,"✓")):(L(),D("span",yf,"-"))])],2))),128))])])])]),s[8]||(s[8]=ac('<div class="legend" data-v-0a4c2f6d><h4 data-v-0a4c2f6d>欄位說明</h4><div class="legend-grid" data-v-0a4c2f6d><div class="legend-item" data-v-0a4c2f6d><strong data-v-0a4c2f6d>ES (Earliest Start)：</strong> 最早開始時間 </div><div class="legend-item" data-v-0a4c2f6d><strong data-v-0a4c2f6d>EF (Earliest Finish)：</strong> 最早完成時間 </div><div class="legend-item" data-v-0a4c2f6d><strong data-v-0a4c2f6d>LS (Latest Start)：</strong> 最晚開始時間 </div><div class="legend-item" data-v-0a4c2f6d><strong data-v-0a4c2f6d>LF (Latest Finish)：</strong> 最晚完成時間 </div><div class="legend-item" data-v-0a4c2f6d><strong data-v-0a4c2f6d>TF (Total Float)：</strong> 總浮時 </div><div class="legend-item" data-v-0a4c2f6d><strong data-v-0a4c2f6d>FF (Free Float)：</strong> 自由浮時 </div></div></div>',1))])):at("",!0),t.cpmResult?at("",!0):(L(),D("div",vf,[...s[9]||(s[9]=[y("p",null,"尚未進行 CPM 計算，請先新增工項並點擊「計算排程」",-1)])]))]))}}),xf=ar(_f,[["__scopeId","data-v-0a4c2f6d"]]);function An(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bf(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uo(t){let e,n,r;t.length!==2?(e=An,n=(l,a)=>An(t(l),a),r=(l,a)=>t(l)-a):(e=t===An||t===bf?t:wf,n=t,r=t);function s(l,a,c=0,u=l.length){if(c<u){if(e(a,a)!==0)return u;do{const f=c+u>>>1;n(l[f],a)<0?c=f+1:u=f}while(c<u)}return c}function i(l,a,c=0,u=l.length){if(c<u){if(e(a,a)!==0)return u;do{const f=c+u>>>1;n(l[f],a)<=0?c=f+1:u=f}while(c<u)}return c}function o(l,a,c=0,u=l.length){const f=s(l,a,c,u-1);return f>c&&r(l[f-1],a)>-r(l[f],a)?f-1:f}return{left:s,center:o,right:i}}function wf(){return 0}function Sf(t){return t===null?NaN:+t}const Cf=Uo(An),Mf=Cf.right;Uo(Sf).center;class ai extends Map{constructor(e,n=Tf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(ci(this,e))}has(e){return super.has(ci(this,e))}set(e,n){return super.set($f(this,e),n)}delete(e){return super.delete(kf(this,e))}}function ci({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function $f({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kf({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Tf(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Ef=Math.sqrt(50),Af=Math.sqrt(10),If=Math.sqrt(2);function Un(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=Ef?10:i>=Af?5:i>=If?2:1;let l,a,c;return s<0?(c=Math.pow(10,-s)/o,l=Math.round(t*c),a=Math.round(e*c),l/c<t&&++l,a/c>e&&--a,c=-c):(c=Math.pow(10,s)*o,l=Math.round(t/c),a=Math.round(e/c),l*c<t&&++l,a*c>e&&--a),a<l&&.5<=n&&n<2?Un(t,e,n*2):[l,a,c]}function Ff(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,o]=r?Un(e,t,n):Un(t,e,n);if(!(i>=s))return[];const l=i-s+1,a=new Array(l);if(r)if(o<0)for(let c=0;c<l;++c)a[c]=(i-c)/-o;else for(let c=0;c<l;++c)a[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)a[c]=(s+c)/-o;else for(let c=0;c<l;++c)a[c]=(s+c)*o;return a}function Ur(t,e,n){return e=+e,t=+t,n=+n,Un(t,e,n)[2]}function Nf(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?Ur(e,t,n):Ur(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function Bo(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function Rf(t){return t}var Pf=1,ui=1e-6;function Of(t){return"translate("+t+",0)"}function Lf(t){return e=>+t(e)}function Df(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Hf(){return!this.__axis}function Vf(t,e){var n=[],r=null,s=null,i=6,o=6,l=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=-1,u="y",f=Of;function d(p){var w=r??(e.ticks?e.ticks.apply(e,n):e.domain()),A=s??(e.tickFormat?e.tickFormat.apply(e,n):Rf),H=Math.max(i,0)+l,k=e.range(),T=+k[0]+a,$=+k[k.length-1]+a,x=(e.bandwidth?Df:Lf)(e.copy(),a),P=p.selection?p.selection():p,Q=P.selectAll(".domain").data([null]),et=P.selectAll(".tick").data(w,e).order(),ut=et.exit(),ht=et.enter().append("g").attr("class","tick"),lt=et.select("line"),U=et.select("text");Q=Q.merge(Q.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),et=et.merge(ht),lt=lt.merge(ht.append("line").attr("stroke","currentColor").attr(u+"2",c*i)),U=U.merge(ht.append("text").attr("fill","currentColor").attr(u,c*H).attr("dy","0em")),p!==P&&(Q=Q.transition(p),et=et.transition(p),lt=lt.transition(p),U=U.transition(p),ut=ut.transition(p).attr("opacity",ui).attr("transform",function(F){return isFinite(F=x(F))?f(F+a):this.getAttribute("transform")}),ht.attr("opacity",ui).attr("transform",function(F){var _=this.parentNode.__axis;return f((_&&isFinite(_=_(F))?_:x(F))+a)})),ut.remove(),Q.attr("d",o?"M"+T+","+c*o+"V"+a+"H"+$+"V"+c*o:"M"+T+","+a+"H"+$),et.attr("opacity",1).attr("transform",function(F){return f(x(F)+a)}),lt.attr(u+"2",c*i),U.attr(u,c*H).text(A),P.filter(Hf).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),P.each(function(){this.__axis=x})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),d):r&&r.slice()},d.tickFormat=function(p){return arguments.length?(s=p,d):s},d.tickSize=function(p){return arguments.length?(i=o=+p,d):i},d.tickSizeInner=function(p){return arguments.length?(i=+p,d):i},d.tickSizeOuter=function(p){return arguments.length?(o=+p,d):o},d.tickPadding=function(p){return arguments.length?(l=+p,d):l},d.offset=function(p){return arguments.length?(a=+p,d):a},d}function Uf(t){return Vf(Pf,t)}var Bf={value:()=>{}};function Ko(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new In(n)}function In(t){this._=t}function Kf(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}In.prototype=Ko.prototype={constructor:In,on:function(t,e){var n=this._,r=Kf(t+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(t=r[i]).type)&&(s=Wf(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<o;)if(s=(t=r[i]).type)n[s]=fi(n[s],t.name,e);else if(e==null)for(s in n)n[s]=fi(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new In(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(e,n)}};function Wf(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function fi(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=Bf,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Br="http://www.w3.org/1999/xhtml";const di={svg:"http://www.w3.org/2000/svg",xhtml:Br,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),di.hasOwnProperty(e)?{space:di[e],local:t}:t}function zf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Br&&e.documentElement.namespaceURI===Br?e.createElement(t):e.createElementNS(n,t)}}function jf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Wo(t){var e=cr(t);return(e.local?jf:zf)(e)}function qf(){}function ps(t){return t==null?qf:function(){return this.querySelector(t)}}function Xf(t){typeof t!="function"&&(t=ps(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,l=r[s]=new Array(o),a,c,u=0;u<o;++u)(a=i[u])&&(c=t.call(a,a.__data__,u,i))&&("__data__"in a&&(c.__data__=a.__data__),l[u]=c);return new bt(r,this._parents)}function zo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Yf(){return[]}function jo(t){return t==null?Yf:function(){return this.querySelectorAll(t)}}function Gf(t){return function(){return zo(t.apply(this,arguments))}}function Jf(t){typeof t=="function"?t=Gf(t):t=jo(t);for(var e=this._groups,n=e.length,r=[],s=[],i=0;i<n;++i)for(var o=e[i],l=o.length,a,c=0;c<l;++c)(a=o[c])&&(r.push(t.call(a,a.__data__,c,o)),s.push(a));return new bt(r,s)}function qo(t){return function(){return this.matches(t)}}function Xo(t){return function(e){return e.matches(t)}}var Zf=Array.prototype.find;function Qf(t){return function(){return Zf.call(this.children,t)}}function td(){return this.firstElementChild}function ed(t){return this.select(t==null?td:Qf(typeof t=="function"?t:Xo(t)))}var nd=Array.prototype.filter;function rd(){return Array.from(this.children)}function sd(t){return function(){return nd.call(this.children,t)}}function id(t){return this.selectAll(t==null?rd:sd(typeof t=="function"?t:Xo(t)))}function od(t){typeof t!="function"&&(t=qo(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,l=r[s]=[],a,c=0;c<o;++c)(a=i[c])&&t.call(a,a.__data__,c,i)&&l.push(a);return new bt(r,this._parents)}function Yo(t){return new Array(t.length)}function ld(){return new bt(this._enter||this._groups.map(Yo),this._parents)}function Bn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bn.prototype={constructor:Bn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ad(t){return function(){return t}}function cd(t,e,n,r,s,i){for(var o=0,l,a=e.length,c=i.length;o<c;++o)(l=e[o])?(l.__data__=i[o],r[o]=l):n[o]=new Bn(t,i[o]);for(;o<a;++o)(l=e[o])&&(s[o]=l)}function ud(t,e,n,r,s,i,o){var l,a,c=new Map,u=e.length,f=i.length,d=new Array(u),p;for(l=0;l<u;++l)(a=e[l])&&(d[l]=p=o.call(a,a.__data__,l,e)+"",c.has(p)?s[l]=a:c.set(p,a));for(l=0;l<f;++l)p=o.call(t,i[l],l,i)+"",(a=c.get(p))?(r[l]=a,a.__data__=i[l],c.delete(p)):n[l]=new Bn(t,i[l]);for(l=0;l<u;++l)(a=e[l])&&c.get(d[l])===a&&(s[l]=a)}function fd(t){return t.__data__}function dd(t,e){if(!arguments.length)return Array.from(this,fd);var n=e?ud:cd,r=this._parents,s=this._groups;typeof t!="function"&&(t=ad(t));for(var i=s.length,o=new Array(i),l=new Array(i),a=new Array(i),c=0;c<i;++c){var u=r[c],f=s[c],d=f.length,p=hd(t.call(u,u&&u.__data__,c,r)),w=p.length,A=l[c]=new Array(w),H=o[c]=new Array(w),k=a[c]=new Array(d);n(u,f,A,H,k,p,e);for(var T=0,$=0,x,P;T<w;++T)if(x=A[T]){for(T>=$&&($=T+1);!(P=H[$])&&++$<w;);x._next=P||null}}return o=new bt(o,r),o._enter=l,o._exit=a,o}function hd(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pd(){return new bt(this._exit||this._groups.map(Yo),this._parents)}function gd(t,e,n){var r=this.enter(),s=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function md(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,i=r.length,o=Math.min(s,i),l=new Array(s),a=0;a<o;++a)for(var c=n[a],u=r[a],f=c.length,d=l[a]=new Array(f),p,w=0;w<f;++w)(p=c[w]||u[w])&&(d[w]=p);for(;a<s;++a)l[a]=n[a];return new bt(l,this._parents)}function yd(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function vd(t){t||(t=_d);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,a=s[i]=new Array(l),c,u=0;u<l;++u)(c=o[u])&&(a[u]=c);a.sort(e)}return new bt(s,this._parents).order()}function _d(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xd(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bd(){return Array.from(this)}function wd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function Sd(){let t=0;for(const e of this)++t;return t}function Cd(){return!this.node()}function Md(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],i=0,o=s.length,l;i<o;++i)(l=s[i])&&t.call(l,l.__data__,i,s);return this}function $d(t){return function(){this.removeAttribute(t)}}function kd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Td(t,e){return function(){this.setAttribute(t,e)}}function Ed(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ad(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Id(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Fd(t,e){var n=cr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?kd:$d:typeof e=="function"?n.local?Id:Ad:n.local?Ed:Td)(n,e))}function Go(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nd(t){return function(){this.style.removeProperty(t)}}function Rd(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Pd(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Od(t,e,n){return arguments.length>1?this.each((e==null?Nd:typeof e=="function"?Pd:Rd)(t,e,n??"")):Re(this.node(),t)}function Re(t,e){return t.style.getPropertyValue(e)||Go(t).getComputedStyle(t,null).getPropertyValue(e)}function Ld(t){return function(){delete this[t]}}function Dd(t,e){return function(){this[t]=e}}function Hd(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Vd(t,e){return arguments.length>1?this.each((e==null?Ld:typeof e=="function"?Hd:Dd)(t,e)):this.node()[t]}function Jo(t){return t.trim().split(/^|\s+/)}function gs(t){return t.classList||new Zo(t)}function Zo(t){this._node=t,this._names=Jo(t.getAttribute("class")||"")}Zo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Qo(t,e){for(var n=gs(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function tl(t,e){for(var n=gs(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Ud(t){return function(){Qo(this,t)}}function Bd(t){return function(){tl(this,t)}}function Kd(t,e){return function(){(e.apply(this,arguments)?Qo:tl)(this,t)}}function Wd(t,e){var n=Jo(t+"");if(arguments.length<2){for(var r=gs(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?Kd:e?Ud:Bd)(n,e))}function zd(){this.textContent=""}function jd(t){return function(){this.textContent=t}}function qd(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Xd(t){return arguments.length?this.each(t==null?zd:(typeof t=="function"?qd:jd)(t)):this.node().textContent}function Yd(){this.innerHTML=""}function Gd(t){return function(){this.innerHTML=t}}function Jd(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Zd(t){return arguments.length?this.each(t==null?Yd:(typeof t=="function"?Jd:Gd)(t)):this.node().innerHTML}function Qd(){this.nextSibling&&this.parentNode.appendChild(this)}function th(){return this.each(Qd)}function eh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nh(){return this.each(eh)}function rh(t){var e=typeof t=="function"?t:Wo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sh(){return null}function ih(t,e){var n=typeof t=="function"?t:Wo(t),r=e==null?sh:typeof e=="function"?e:ps(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function oh(){var t=this.parentNode;t&&t.removeChild(this)}function lh(){return this.each(oh)}function ah(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ch(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function uh(t){return this.select(t?ch:ah)}function fh(t){return arguments.length?this.property("__data__",t):this.node().__data__}function dh(t){return function(e){t.call(this,e,this.__data__)}}function hh(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ph(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,i;n<s;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function gh(t,e,n){return function(){var r=this.__on,s,i=dh(e);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=e;return}}this.addEventListener(t.type,i,n),s={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(s):this.__on=[s]}}function mh(t,e,n){var r=hh(t+""),s,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,c=l.length,u;a<c;++a)for(s=0,u=l[a];s<i;++s)if((o=r[s]).type===u.type&&o.name===u.name)return u.value}return}for(l=e?gh:ph,s=0;s<i;++s)this.each(l(r[s],e,n));return this}function el(t,e,n){var r=Go(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function yh(t,e){return function(){return el(this,t,e)}}function vh(t,e){return function(){return el(this,t,e.apply(this,arguments))}}function _h(t,e){return this.each((typeof e=="function"?vh:yh)(t,e))}function*xh(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var ms=[null];function bt(t,e){this._groups=t,this._parents=e}function hn(){return new bt([[document.documentElement]],ms)}function bh(){return this}bt.prototype=hn.prototype={constructor:bt,select:Xf,selectAll:Jf,selectChild:ed,selectChildren:id,filter:od,data:dd,enter:ld,exit:pd,join:gd,merge:md,selection:bh,order:yd,sort:vd,call:xd,nodes:bd,node:wd,size:Sd,empty:Cd,each:Md,attr:Fd,style:Od,property:Vd,classed:Wd,text:Xd,html:Zd,raise:th,lower:nh,append:rh,insert:ih,remove:lh,clone:uh,datum:fh,on:mh,dispatch:_h,[Symbol.iterator]:xh};function Be(t){return typeof t=="string"?new bt([[document.querySelector(t)]],[document.documentElement]):new bt([[t]],ms)}function wh(t){return typeof t=="string"?new bt([document.querySelectorAll(t)],[document.documentElement]):new bt([zo(t)],ms)}function ys(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nl(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pn(){}var an=.7,Kn=1/an,Ie="\\s*([+-]?\\d+)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sh=/^#([0-9a-f]{3,8})$/,Ch=new RegExp(`^rgb\\(${Ie},${Ie},${Ie}\\)$`),Mh=new RegExp(`^rgb\\(${jt},${jt},${jt}\\)$`),$h=new RegExp(`^rgba\\(${Ie},${Ie},${Ie},${cn}\\)$`),kh=new RegExp(`^rgba\\(${jt},${jt},${jt},${cn}\\)$`),Th=new RegExp(`^hsl\\(${cn},${jt},${jt}\\)$`),Eh=new RegExp(`^hsla\\(${cn},${jt},${jt},${cn}\\)$`),hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ys(pn,_e,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pi,formatHex:pi,formatHex8:Ah,formatHsl:Ih,formatRgb:gi,toString:gi});function pi(){return this.rgb().formatHex()}function Ah(){return this.rgb().formatHex8()}function Ih(){return rl(this).formatHsl()}function gi(){return this.rgb().formatRgb()}function _e(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Sh.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?mi(e):n===3?new $t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ch.exec(t))?new $t(e[1],e[2],e[3],1):(e=Mh.exec(t))?new $t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$h.exec(t))?xn(e[1],e[2],e[3],e[4]):(e=kh.exec(t))?xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Th.exec(t))?_i(e[1],e[2]/100,e[3]/100,1):(e=Eh.exec(t))?_i(e[1],e[2]/100,e[3]/100,e[4]):hi.hasOwnProperty(t)?mi(hi[t]):t==="transparent"?new $t(NaN,NaN,NaN,0):null}function mi(t){return new $t(t>>16&255,t>>8&255,t&255,1)}function xn(t,e,n,r){return r<=0&&(t=e=n=NaN),new $t(t,e,n,r)}function Fh(t){return t instanceof pn||(t=_e(t)),t?(t=t.rgb(),new $t(t.r,t.g,t.b,t.opacity)):new $t}function Kr(t,e,n,r){return arguments.length===1?Fh(t):new $t(t,e,n,r??1)}function $t(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ys($t,Kr,nl(pn,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?an:Math.pow(an,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $t(ve(this.r),ve(this.g),ve(this.b),Wn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yi,formatHex:yi,formatHex8:Nh,formatRgb:vi,toString:vi}));function yi(){return`#${me(this.r)}${me(this.g)}${me(this.b)}`}function Nh(){return`#${me(this.r)}${me(this.g)}${me(this.b)}${me((isNaN(this.opacity)?1:this.opacity)*255)}`}function vi(){const t=Wn(this.opacity);return`${t===1?"rgb(":"rgba("}${ve(this.r)}, ${ve(this.g)}, ${ve(this.b)}${t===1?")":`, ${t})`}`}function Wn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ve(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function me(t){return t=ve(t),(t<16?"0":"")+t.toString(16)}function _i(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,r)}function rl(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof pn||(t=_e(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-s,a=(i+s)/2;return l?(e===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-e)/l+2:o=(e-n)/l+4,l/=a<.5?i+s:2-i-s,o*=60):l=a>0&&a<1?0:o,new Rt(o,l,a,t.opacity)}function Rh(t,e,n,r){return arguments.length===1?rl(t):new Rt(t,e,n,r??1)}function Rt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ys(Rt,Rh,nl(pn,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?an:Math.pow(an,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new $t(Cr(t>=240?t-240:t+120,s,r),Cr(t,s,r),Cr(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Rt(xi(this.h),bn(this.s),bn(this.l),Wn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wn(this.opacity);return`${t===1?"hsl(":"hsla("}${xi(this.h)}, ${bn(this.s)*100}%, ${bn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xi(t){return t=(t||0)%360,t<0?t+360:t}function bn(t){return Math.max(0,Math.min(1,t||0))}function Cr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const vs=t=>()=>t;function Ph(t,e){return function(n){return t+n*e}}function Oh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lh(t){return(t=+t)==1?sl:function(e,n){return n-e?Oh(e,n,t):vs(isNaN(e)?n:e)}}function sl(t,e){var n=e-t;return n?Ph(t,n):vs(isNaN(t)?e:t)}const zn=(function t(e){var n=Lh(e);function r(s,i){var o=n((s=Kr(s)).r,(i=Kr(i)).r),l=n(s.g,i.g),a=n(s.b,i.b),c=sl(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=a(u),s.opacity=c(u),s+""}}return r.gamma=t,r})(1);function Dh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function Hh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Vh(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=_s(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function Uh(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Nt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bh(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=_s(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mr=new RegExp(Wr.source,"g");function Kh(t){return function(){return t}}function Wh(t){return function(e){return t(e)+""}}function il(t,e){var n=Wr.lastIndex=Mr.lastIndex=0,r,s,i,o=-1,l=[],a=[];for(t=t+"",e=e+"";(r=Wr.exec(t))&&(s=Mr.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,a.push({i:o,x:Nt(r,s)})),n=Mr.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?a[0]?Wh(a[0].x):Kh(e):(e=a.length,function(c){for(var u=0,f;u<e;++u)l[(f=a[u]).i]=f.x(c);return l.join("")})}function _s(t,e){var n=typeof e,r;return e==null||n==="boolean"?vs(e):(n==="number"?Nt:n==="string"?(r=_e(e))?(e=r,zn):il:e instanceof _e?zn:e instanceof Date?Uh:Hh(e)?Dh:Array.isArray(e)?Vh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bh:Nt)(t,e)}function zh(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var bi=180/Math.PI,zr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ol(t,e,n,r,s,i){var o,l,a;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),t*r<e*n&&(t=-t,e=-e,a=-a,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(e,t)*bi,skewX:Math.atan(a)*bi,scaleX:o,scaleY:l}}var wn;function jh(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zr:ol(e.a,e.b,e.c,e.d,e.e,e.f)}function qh(t){return t==null||(wn||(wn=document.createElementNS("http://www.w3.org/2000/svg","g")),wn.setAttribute("transform",t),!(t=wn.transform.baseVal.consolidate()))?zr:(t=t.matrix,ol(t.a,t.b,t.c,t.d,t.e,t.f))}function ll(t,e,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,u,f,d,p,w){if(c!==f||u!==d){var A=p.push("translate(",null,e,null,n);w.push({i:A-4,x:Nt(c,f)},{i:A-2,x:Nt(u,d)})}else(f||d)&&p.push("translate("+f+e+d+n)}function o(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Nt(c,u)})):u&&f.push(s(f)+"rotate("+u+r)}function l(c,u,f,d){c!==u?d.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Nt(c,u)}):u&&f.push(s(f)+"skewX("+u+r)}function a(c,u,f,d,p,w){if(c!==f||u!==d){var A=p.push(s(p)+"scale(",null,",",null,")");w.push({i:A-4,x:Nt(c,f)},{i:A-2,x:Nt(u,d)})}else(f!==1||d!==1)&&p.push(s(p)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=t(c),u=t(u),i(c.translateX,c.translateY,u.translateX,u.translateY,f,d),o(c.rotate,u.rotate,f,d),l(c.skewX,u.skewX,f,d),a(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(p){for(var w=-1,A=d.length,H;++w<A;)f[(H=d[w]).i]=H.x(p);return f.join("")}}}var Xh=ll(jh,"px, ","px)","deg)"),Yh=ll(qh,", ",")",")"),Pe=0,je=0,Ke=0,al=1e3,jn,qe,qn=0,xe=0,ur=0,un=typeof performance=="object"&&performance.now?performance:Date,cl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xs(){return xe||(cl(Gh),xe=un.now()+ur)}function Gh(){xe=0}function Xn(){this._call=this._time=this._next=null}Xn.prototype=ul.prototype={constructor:Xn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?xs():+n)+(e==null?0:+e),!this._next&&qe!==this&&(qe?qe._next=this:jn=this,qe=this),this._call=t,this._time=n,jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,jr())}};function ul(t,e,n){var r=new Xn;return r.restart(t,e,n),r}function Jh(){xs(),++Pe;for(var t=jn,e;t;)(e=xe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pe}function wi(){xe=(qn=un.now())+ur,Pe=je=0;try{Jh()}finally{Pe=0,Qh(),xe=0}}function Zh(){var t=un.now(),e=t-qn;e>al&&(ur-=e,qn=t)}function Qh(){for(var t,e=jn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:jn=n);qe=t,jr(r)}function jr(t){if(!Pe){je&&(je=clearTimeout(je));var e=t-xe;e>24?(t<1/0&&(je=setTimeout(wi,t-un.now()-ur)),Ke&&(Ke=clearInterval(Ke))):(Ke||(qn=un.now(),Ke=setInterval(Zh,al)),Pe=1,cl(wi))}}function Si(t,e,n){var r=new Xn;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var tp=Ko("start","end","cancel","interrupt"),ep=[],fl=0,Ci=1,qr=2,Fn=3,Mi=4,Xr=5,Nn=6;function fr(t,e,n,r,s,i){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;np(t,n,{name:e,index:r,group:s,on:tp,tween:ep,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:fl})}function bs(t,e){var n=Ot(t,e);if(n.state>fl)throw new Error("too late; already scheduled");return n}function Xt(t,e){var n=Ot(t,e);if(n.state>Fn)throw new Error("too late; already running");return n}function Ot(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function np(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=ul(i,0,n.time);function i(c){n.state=Ci,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,d,p;if(n.state!==Ci)return a();for(u in r)if(p=r[u],p.name===n.name){if(p.state===Fn)return Si(o);p.state===Mi?(p.state=Nn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=Nn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(Si(function(){n.state===Fn&&(n.state=Mi,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=qr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===qr){for(n.state=Fn,s=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(s[++f]=p);s.length=f+1}}function l(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=Xr,1),f=-1,d=s.length;++f<d;)s[f].call(t,u);n.state===Xr&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Nn,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function rp(t,e){var n=t.__transition,r,s,i=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){i=!1;continue}s=r.state>qr&&r.state<Xr,r.state=Nn,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}i&&delete t.__transition}}function sp(t){return this.each(function(){rp(this,t)})}function ip(t,e){var n,r;return function(){var s=Xt(this,t),i=s.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function op(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Xt(this,t),o=i.tween;if(o!==r){s=(r=o).slice();for(var l={name:e,value:n},a=0,c=s.length;a<c;++a)if(s[a].name===e){s[a]=l;break}a===c&&s.push(l)}i.tween=s}}function lp(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ot(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===t)return o.value;return null}return this.each((e==null?ip:op)(n,t,e))}function ws(t,e,n){var r=t._id;return t.each(function(){var s=Xt(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Ot(s,r).value[e]}}function dl(t,e){var n;return(typeof e=="number"?Nt:e instanceof _e?zn:(n=_e(e))?(e=n,zn):il)(t,e)}function ap(t){return function(){this.removeAttribute(t)}}function cp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function up(t,e,n){var r,s=n+"",i;return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function fp(t,e,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function dp(t,e,n){var r,s,i;return function(){var o,l=n(this),a;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),a=l+"",o===a?null:o===r&&a===s?i:(s=a,i=e(r=o,l)))}}function hp(t,e,n){var r,s,i;return function(){var o,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),a=l+"",o===a?null:o===r&&a===s?i:(s=a,i=e(r=o,l)))}}function pp(t,e){var n=cr(t),r=n==="transform"?Yh:dl;return this.attrTween(t,typeof e=="function"?(n.local?hp:dp)(n,r,ws(this,"attr."+t,e)):e==null?(n.local?cp:ap)(n):(n.local?fp:up)(n,r,e))}function gp(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function mp(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yp(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&mp(t,i)),n}return s._value=e,s}function vp(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&gp(t,i)),n}return s._value=e,s}function _p(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=cr(t);return this.tween(n,(r.local?yp:vp)(r,e))}function xp(t,e){return function(){bs(this,t).delay=+e.apply(this,arguments)}}function bp(t,e){return e=+e,function(){bs(this,t).delay=e}}function wp(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xp:bp)(e,t)):Ot(this.node(),e).delay}function Sp(t,e){return function(){Xt(this,t).duration=+e.apply(this,arguments)}}function Cp(t,e){return e=+e,function(){Xt(this,t).duration=e}}function Mp(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Sp:Cp)(e,t)):Ot(this.node(),e).duration}function $p(t,e){if(typeof e!="function")throw new Error;return function(){Xt(this,t).ease=e}}function kp(t){var e=this._id;return arguments.length?this.each($p(e,t)):Ot(this.node(),e).ease}function Tp(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Xt(this,t).ease=n}}function Ep(t){if(typeof t!="function")throw new Error;return this.each(Tp(this._id,t))}function Ap(t){typeof t!="function"&&(t=qo(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],o=i.length,l=r[s]=[],a,c=0;c<o;++c)(a=i[c])&&t.call(a,a.__data__,c,i)&&l.push(a);return new ne(r,this._parents,this._name,this._id)}function Ip(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,i=Math.min(r,s),o=new Array(r),l=0;l<i;++l)for(var a=e[l],c=n[l],u=a.length,f=o[l]=new Array(u),d,p=0;p<u;++p)(d=a[p]||c[p])&&(f[p]=d);for(;l<r;++l)o[l]=e[l];return new ne(o,this._parents,this._name,this._id)}function Fp(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Np(t,e,n){var r,s,i=Fp(e)?bs:Xt;return function(){var o=i(this,t),l=o.on;l!==r&&(s=(r=l).copy()).on(e,n),o.on=s}}function Rp(t,e){var n=this._id;return arguments.length<2?Ot(this.node(),n).on.on(t):this.each(Np(n,t,e))}function Pp(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Op(){return this.on("end.remove",Pp(this._id))}function Lp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ps(t));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var l=r[o],a=l.length,c=i[o]=new Array(a),u,f,d=0;d<a;++d)(u=l[d])&&(f=t.call(u,u.__data__,d,l))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,fr(c[d],e,n,d,c,Ot(u,n)));return new ne(i,this._parents,e,n)}function Dp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=jo(t));for(var r=this._groups,s=r.length,i=[],o=[],l=0;l<s;++l)for(var a=r[l],c=a.length,u,f=0;f<c;++f)if(u=a[f]){for(var d=t.call(u,u.__data__,f,a),p,w=Ot(u,n),A=0,H=d.length;A<H;++A)(p=d[A])&&fr(p,e,n,A,d,w);i.push(d),o.push(u)}return new ne(i,o,e,n)}var Hp=hn.prototype.constructor;function Vp(){return new Hp(this._groups,this._parents)}function Up(t,e){var n,r,s;return function(){var i=Re(this,t),o=(this.style.removeProperty(t),Re(this,t));return i===o?null:i===n&&o===r?s:s=e(n=i,r=o)}}function hl(t){return function(){this.style.removeProperty(t)}}function Bp(t,e,n){var r,s=n+"",i;return function(){var o=Re(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}function Kp(t,e,n){var r,s,i;return function(){var o=Re(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),Re(this,t))),o===a?null:o===r&&a===s?i:(s=a,i=e(r=o,l))}}function Wp(t,e){var n,r,s,i="style."+e,o="end."+i,l;return function(){var a=Xt(this,t),c=a.on,u=a.value[i]==null?l||(l=hl(e)):void 0;(c!==n||s!==u)&&(r=(n=c).copy()).on(o,s=u),a.on=r}}function zp(t,e,n){var r=(t+="")=="transform"?Xh:dl;return e==null?this.styleTween(t,Up(t,r)).on("end.style."+t,hl(t)):typeof e=="function"?this.styleTween(t,Kp(t,r,ws(this,"style."+t,e))).each(Wp(this._id,t)):this.styleTween(t,Bp(t,r,e),n).on("end.style."+t,null)}function jp(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function qp(t,e,n){var r,s;function i(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&jp(t,o,n)),r}return i._value=e,i}function Xp(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,qp(t,e,n??""))}function Yp(t){return function(){this.textContent=t}}function Gp(t){return function(){var e=t(this);this.textContent=e??""}}function Jp(t){return this.tween("text",typeof t=="function"?Gp(ws(this,"text",t)):Yp(t==null?"":t+""))}function Zp(t){return function(e){this.textContent=t.call(this,e)}}function Qp(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&Zp(s)),e}return r._value=t,r}function tg(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Qp(t))}function eg(){for(var t=this._name,e=this._id,n=pl(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,a,c=0;c<l;++c)if(a=o[c]){var u=Ot(a,e);fr(a,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ne(r,this._parents,t,n)}function ng(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var l={value:o},a={value:function(){--s===0&&i()}};n.each(function(){var c=Xt(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),c.on=e}),s===0&&i()})}var rg=0;function ne(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function pl(){return++rg}var Gt=hn.prototype;ne.prototype={constructor:ne,select:Lp,selectAll:Dp,selectChild:Gt.selectChild,selectChildren:Gt.selectChildren,filter:Ap,merge:Ip,selection:Vp,transition:eg,call:Gt.call,nodes:Gt.nodes,node:Gt.node,size:Gt.size,empty:Gt.empty,each:Gt.each,on:Rp,attr:pp,attrTween:_p,style:zp,styleTween:Xp,text:Jp,textTween:tg,remove:Op,tween:lp,delay:wp,duration:Mp,ease:kp,easeVarying:Ep,end:ng,[Symbol.iterator]:Gt[Symbol.iterator]};function sg(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ig={time:null,delay:0,duration:250,ease:sg};function og(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function lg(t){var e,n;t instanceof ne?(e=t._id,t=t._name):(e=pl(),(n=ig).time=xs(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,a,c=0;c<l;++c)(a=o[c])&&fr(a,t,e,c,o,n||og(a,e));return new ne(r,this._parents,t,e)}hn.prototype.interrupt=sp;hn.prototype.transition=lg;function ag(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Oe(t){return t=Yn(Math.abs(t)),t?t[1]:NaN}function cg(t,e){return function(n,r){for(var s=n.length,i=[],o=0,l=t[0],a=0;s>0&&l>0&&(a+l+1>r&&(l=Math.max(1,r-a)),i.push(n.substring(s-=l,s+l)),!((a+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function ug(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gn(t){if(!(e=fg.exec(t)))throw new Error("invalid format: "+t);var e;return new Ss({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gn.prototype=Ss.prototype;function Ss(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ss.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dg(t){t:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var gl;function hg(t,e){var n=Yn(t,e);if(!n)return t+"";var r=n[0],s=n[1],i=s-(gl=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Yn(t,Math.max(0,e+i-1))[0]}function $i(t,e){var n=Yn(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const ki={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ag,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$i(t*100,e),r:$i,s:hg,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ti(t){return t}var Ei=Array.prototype.map,Ai=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function pg(t){var e=t.grouping===void 0||t.thousands===void 0?Ti:cg(Ei.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Ti:ug(Ei.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",a=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Gn(f);var d=f.fill,p=f.align,w=f.sign,A=f.symbol,H=f.zero,k=f.width,T=f.comma,$=f.precision,x=f.trim,P=f.type;P==="n"?(T=!0,P="g"):ki[P]||($===void 0&&($=12),x=!0,P="g"),(H||d==="0"&&p==="=")&&(H=!0,d="0",p="=");var Q=A==="$"?n:A==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",et=A==="$"?r:/[%p]/.test(P)?o:"",ut=ki[P],ht=/[defgprs%]/.test(P);$=$===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function lt(U){var F=Q,_=et,m,q,z;if(P==="c")_=ut(U)+_,U="";else{U=+U;var K=U<0||1/U<0;if(U=isNaN(U)?a:ut(Math.abs(U),$),x&&(U=dg(U)),K&&+U==0&&w!=="+"&&(K=!1),F=(K?w==="("?w:l:w==="-"||w==="("?"":w)+F,_=(P==="s"?Ai[8+gl/3]:"")+_+(K&&w==="("?")":""),ht){for(m=-1,q=U.length;++m<q;)if(z=U.charCodeAt(m),48>z||z>57){_=(z===46?s+U.slice(m+1):U.slice(m))+_,U=U.slice(0,m);break}}}T&&!H&&(U=e(U,1/0));var X=F.length+U.length+_.length,ot=X<k?new Array(k-X+1).join(d):"";switch(T&&H&&(U=e(ot+U,ot.length?k-_.length:1/0),ot=""),p){case"<":U=F+U+_+ot;break;case"=":U=F+ot+U+_;break;case"^":U=ot.slice(0,X=ot.length>>1)+F+U+_+ot.slice(X);break;default:U=ot+F+U+_;break}return i(U)}return lt.toString=function(){return f+""},lt}function u(f,d){var p=c((f=Gn(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(Oe(d)/3)))*3,A=Math.pow(10,-w),H=Ai[8+w/3];return function(k){return p(A*k)+H}}return{format:c,formatPrefix:u}}var Sn,ml,yl;gg({thousands:",",grouping:[3],currency:["$",""]});function gg(t){return Sn=pg(t),ml=Sn.format,yl=Sn.formatPrefix,Sn}function mg(t){return Math.max(0,-Oe(Math.abs(t)))}function yg(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oe(e)/3)))*3-Oe(Math.abs(t)))}function vg(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Oe(e)-Oe(t))+1}function Cs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Ii=Symbol("implicit");function vl(){var t=new ai,e=[],n=[],r=Ii;function s(i){let o=t.get(i);if(o===void 0){if(r!==Ii)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new ai;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return vl(e,n).unknown(r)},Cs.apply(s,arguments),s}function _l(){var t=vl().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,o,l=!1,a=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,p=s<r,w=p?s:r,A=p?r:s;i=(A-w)/Math.max(1,d-a+c*2),l&&(i=Math.floor(i)),w+=(A-w-i*(d-a))*u,o=i*(1-a),l&&(w=Math.round(w),o=Math.round(o));var H=Bo(d).map(function(k){return w+i*k});return n(p?H.reverse():H)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,s]=d,r=+r,s=+s,f()):[r,s]},t.rangeRound=function(d){return[r,s]=d,r=+r,s=+s,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(d){return arguments.length?(l=!!d,f()):l},t.padding=function(d){return arguments.length?(a=Math.min(1,c=+d),f()):a},t.paddingInner=function(d){return arguments.length?(a=Math.min(1,d),f()):a},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return _l(e(),[r,s]).round(l).paddingInner(a).paddingOuter(c).align(u)},Cs.apply(f(),arguments)}function _g(t){return function(){return t}}function xg(t){return+t}var Fi=[0,1];function Me(t){return t}function Yr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_g(isNaN(e)?NaN:.5)}function bg(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wg(t,e,n){var r=t[0],s=t[1],i=e[0],o=e[1];return s<r?(r=Yr(s,r),i=n(o,i)):(r=Yr(r,s),i=n(i,o)),function(l){return i(r(l))}}function Sg(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)s[o]=Yr(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var a=Mf(t,l,1,r)-1;return i[a](s[a](l))}}function Cg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mg(){var t=Fi,e=Fi,n=_s,r,s,i,o=Me,l,a,c;function u(){var d=Math.min(t.length,e.length);return o!==Me&&(o=bg(t[0],t[d-1])),l=d>2?Sg:wg,a=c=null,f}function f(d){return d==null||isNaN(d=+d)?i:(a||(a=l(t.map(r),e,n)))(r(o(d)))}return f.invert=function(d){return o(s((c||(c=l(e,t.map(r),Nt)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,xg),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=zh,u()},f.clamp=function(d){return arguments.length?(o=d?!0:Me,u()):o!==Me},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(i=d,f):i},function(d,p){return r=d,s=p,u()}}function $g(){return Mg()(Me,Me)}function kg(t,e,n,r){var s=Nf(t,e,n),i;switch(r=Gn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=yg(s,o))&&(r.precision=i),yl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=vg(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=mg(s))&&(r.precision=i-(r.type==="%")*2);break}}return ml(r)}function Tg(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ff(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return kg(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,o=r[s],l=r[i],a,c,u=10;for(l<o&&(c=o,o=l,l=c,c=s,s=i,i=c);u-- >0;){if(c=Ur(o,l,n),c===a)return r[s]=o,r[i]=l,e(r);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;a=c}return t},t}function xl(){var t=$g();return t.copy=function(){return Cg(t,xl())},Cs.apply(t,arguments),Tg(t)}function Xe(t,e,n){this.k=t,this.x=e,this.y=n}Xe.prototype={constructor:Xe,scale:function(t){return t===1?this:new Xe(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Xe.prototype;const Eg={class:"gantt-chart"},Ag={key:0,class:"empty-state"},Ig={key:1,class:"gantt-container"},$r=50,Ni=30,Fg=rr({__name:"GanttChart",props:{cpmResult:{}},setup(t){const e=t,n=Kt(null);let r=Kt(1);const s={top:60,right:40,bottom:40,left:200};mo(()=>{e.cpmResult&&e.cpmResult.tasks.length>0&&a()}),$n(()=>e.cpmResult,()=>{lo(()=>{e.cpmResult&&e.cpmResult.tasks.length>0&&a()})},{deep:!0});function i(){r.value=Math.min(r.value*1.2,3),a()}function o(){r.value=Math.max(r.value/1.2,.5),a()}function l(){r.value=1,a()}function a(){if(!n.value||!e.cpmResult)return;const d=e.cpmResult.tasks,p=e.cpmResult.totalDuration;Be(n.value).selectAll("*").remove();const w=n.value.parentElement?.clientWidth||800,A=Math.max(w-s.left-s.right,600)*r.value,H=d.length*$r+s.top+s.bottom,k=Be(n.value).attr("width",w).attr("height",H),T=k.append("g").attr("transform",`translate(${s.left},${s.top})`),$=xl().domain([0,p]).range([0,A]),x=_l().domain(d.map(m=>m.id)).range([0,d.length*$r]).padding(.2),P=T.append("g").attr("class","grid"),Q=Math.min(p+1,20);P.selectAll(".grid-line-v").data(Bo(0,p+1,Math.ceil(p/Q))).enter().append("line").attr("class","grid-line").attr("x1",m=>$(m)).attr("x2",m=>$(m)).attr("y1",0).attr("y2",d.length*$r).attr("stroke","#e0e0e0").attr("stroke-width",1),P.selectAll(".grid-line-h").data(d).enter().append("line").attr("class","grid-line").attr("x1",0).attr("x2",A).attr("y1",m=>(x(m.id)||0)+x.bandwidth()/2).attr("y2",m=>(x(m.id)||0)+x.bandwidth()/2).attr("stroke","#f0f0f0").attr("stroke-width",1);const et=Uf($).ticks(Math.min(p+1,20)).tickFormat(m=>`Day ${m}`);T.append("g").attr("class","x-axis").call(et).selectAll("text").style("font-size","12px").style("fill","#555"),T.append("g").attr("class","task-labels").selectAll(".task-label").data(d).enter().append("text").attr("class","task-label").attr("x",-10).attr("y",m=>(x(m.id)||0)+x.bandwidth()/2).attr("dy","0.35em").attr("text-anchor","end").style("font-size","13px").style("font-weight",m=>m.isCritical?"600":"400").style("fill",m=>m.isCritical?"#e74c3c":"#2c3e50").text(m=>m.name);const ht=T.append("g").attr("class","bars");ht.selectAll(".task-bar").data(d).enter().append("rect").attr("class",m=>`task-bar ${m.isCritical?"critical":""}`).attr("x",m=>$(m.es||0)).attr("y",m=>(x(m.id)||0)+(x.bandwidth()-Ni)/2).attr("width",m=>$(m.duration)).attr("height",Ni).attr("rx",4).attr("fill",m=>m.isCritical?"#e74c3c":"#3498db").attr("stroke",m=>m.isCritical?"#c0392b":"#2980b9").attr("stroke-width",m=>m.isCritical?3:2).style("cursor","pointer").on("mouseover",function(m,q){Be(this).attr("opacity",.8),u(m,q)}).on("mouseout",function(){Be(this).attr("opacity",1),f()}),ht.selectAll(".task-duration").data(d).enter().append("text").attr("class","task-duration").attr("x",m=>$(m.es||0)+$(m.duration)/2).attr("y",m=>(x(m.id)||0)+x.bandwidth()/2).attr("dy","0.35em").attr("text-anchor","middle").style("font-size","12px").style("font-weight","600").style("fill","white").style("pointer-events","none").text(m=>`${m.duration}天`);const lt=new Map(d.map(m=>[m.id,m])),U=T.append("g").attr("class","links");d.forEach(m=>{m.successors.forEach(q=>{const z=lt.get(q.taskId);if(z){const K=$(m.ef||0),X=(x(m.id)||0)+x.bandwidth()/2,ot=$(z.es||0),Lt=(x(z.id)||0)+x.bandwidth()/2,yt=m.isCritical&&z.isCritical;U.append("path").attr("d",c(K,X,ot,Lt)).attr("fill","none").attr("stroke",yt?"#e74c3c":"#95a5a6").attr("stroke-width",yt?2:1.5).attr("marker-end",`url(#arrow-${yt?"critical":"normal"})`)}})});const F=k.append("defs");F.append("marker").attr("id","arrow-normal").attr("viewBox","0 0 10 10").attr("refX",8).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","#95a5a6"),F.append("marker").attr("id","arrow-critical").attr("viewBox","0 0 10 10").attr("refX",8).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","#e74c3c");const _=k.append("g").attr("class","legend").attr("transform",`translate(${s.left}, ${H-20})`);_.append("rect").attr("x",0).attr("y",-10).attr("width",15).attr("height",15).attr("fill","#e74c3c").attr("stroke","#c0392b").attr("stroke-width",2),_.append("text").attr("x",20).attr("y",0).style("font-size","12px").text("關鍵路徑"),_.append("rect").attr("x",100).attr("y",-10).attr("width",15).attr("height",15).attr("fill","#3498db").attr("stroke","#2980b9").attr("stroke-width",2),_.append("text").attr("x",120).attr("y",0).style("font-size","12px").text("一般工項")}function c(d,p,w,A){const H=(d+w)/2;return`M ${d} ${p} L ${H} ${p} L ${H} ${A} L ${w} ${A}`}function u(d,p){Be("body").append("div").attr("class","gantt-tooltip").style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","10px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000").html(`
    <div><strong>${p.name}</strong></div>
    <div>工期: ${p.duration} 天</div>
    <div>ES: ${p.es} | EF: ${p.ef}</div>
    <div>LS: ${p.ls} | LF: ${p.lf}</div>
    <div>總浮時: ${p.tf} 天</div>
    ${p.isCritical?'<div style="color: #c33; font-weight: 500;">關鍵工項</div>':""}
  `).style("left",`${d.pageX+10}px`).style("top",`${d.pageY+10}px`)}function f(){wh(".gantt-tooltip").remove()}return(d,p)=>(L(),D("div",Eg,[y("div",{class:"gantt-header"},[p[0]||(p[0]=y("h2",null,"甘特圖",-1)),y("div",{class:"controls"},[y("button",{class:"btn btn-small",onClick:i},"放大"),y("button",{class:"btn btn-small",onClick:o},"縮小"),y("button",{class:"btn btn-small",onClick:l},"重置")])]),!t.cpmResult||t.cpmResult.tasks.length===0?(L(),D("div",Ag,[...p[1]||(p[1]=[y("p",null,"尚無資料可顯示，請先新增工項並計算排程",-1)])])):(L(),D("div",Ig,[(L(),D("svg",{ref_key:"svgRef",ref:n,class:"gantt-svg"},null,512))]))]))}}),Ng=ar(Fg,[["__scopeId","data-v-9a3ec56d"]]);function bl(t){return t.map(e=>e.taskId)}function Rg(t,e,n){const r=t.lag||0;switch(t.type){case"FS":return(e.ef||0)+r;case"SS":return(e.es||0)+r;case"FF":return(e.ef||0)+r-n.duration;case"SF":return(e.es||0)+r-n.duration;default:return(e.ef||0)+r}}function Pg(t){const e=new Map;t.forEach(i=>e.set(i.id,i));const n=new Set,r=new Set;function s(i){n.add(i),r.add(i);const o=e.get(i);if(!o)return!1;const l=bl(o.successors);for(const a of l)if(n.has(a)){if(r.has(a))return!0}else if(s(a))return!0;return r.delete(i),!1}for(const i of t)if(!n.has(i.id)&&s(i.id))return!0;return!1}function Og(t){const e=new Map,n=new Map;t.forEach(i=>{e.set(i.id,i),n.set(i.id,i.predecessors.length)});const r=[];t.forEach(i=>{n.get(i.id)===0&&r.push(i.id)});const s=[];for(;r.length>0;){const i=r.shift();s.push(i);const o=e.get(i),l=bl(o.successors);for(const a of l){const c=n.get(a)-1;n.set(a,c),c===0&&r.push(a)}}return s}function Lg(t,e){const n=new Map;t.forEach(r=>n.set(r.id,r));for(const r of e){const s=n.get(r);if(s.predecessors.length===0)s.es=0,s.isStart=!0;else{let i=0;for(const o of s.predecessors){const l=n.get(o.taskId);if(l&&l.ef!==void 0){const a=Rg(o,l,s);i=Math.max(i,a)}}s.es=Math.max(0,i)}s.ef=s.es+s.duration}}function Dg(t,e,n){const r=t.lag||0;switch(t.type){case"FS":return{lf:(e.ls||0)-r};case"SS":return{ls:(e.ls||0)-r};case"FF":return{lf:(e.lf||0)-r};case"SF":return{ls:(e.lf||0)-r};default:return{lf:(e.ls||0)-r}}}function Hg(t,e){const n=new Map;t.forEach(i=>n.set(i.id,i));let r=0;const s=[];t.forEach(i=>{i.successors.length===0&&(i.isEnd=!0,s.push(i),i.ef!==void 0&&(r=Math.max(r,i.ef)))}),s.forEach(i=>{i.lf=r,i.ls=i.lf-i.duration});for(let i=e.length-1;i>=0;i--){const o=e[i],l=n.get(o);if(l.lf===void 0)if(l.successors.length===0)l.lf=r,l.ls=l.lf-l.duration;else{let a=1/0,c=1/0;for(const u of l.successors){const f=n.get(u.taskId);if(f&&f.ls!==void 0&&f.lf!==void 0){const d=Dg(u,f);d.lf!==void 0&&(a=Math.min(a,d.lf)),d.ls!==void 0&&(c=Math.min(c,d.ls))}}if(c!==1/0&&a!==1/0){const u=c+l.duration,f=a-l.duration;u<=a?(l.ls=c,l.lf=u):(l.lf=a,l.ls=f)}else c!==1/0?(l.ls=c,l.lf=c+l.duration):a!==1/0?(l.lf=a,l.ls=a-l.duration):(l.lf=r,l.ls=r-l.duration)}}}function Vg(t){const e=[];return t.forEach(n=>{if(n.es!==void 0&&n.ls!==void 0&&n.ef!==void 0&&n.lf!==void 0){n.tf=n.ls-n.es;const r=new Map;if(t.forEach(s=>r.set(s.id,s)),n.successors.length===0)n.ff=n.tf||0;else{let s=1/0;for(const i of n.successors){const o=r.get(i.taskId);if(o&&o.es!==void 0&&o.ef!==void 0){const l=i.lag||0;let a=0;switch(i.type){case"FS":a=o.es-l-n.ef;break;case"SS":a=o.es-l-n.es;break;case"FF":a=o.ef-l-n.ef;break;case"SF":a=o.ef-l-n.es;break}s=Math.min(s,a)}}n.ff=s===1/0?0:Math.max(0,s)}n.isCritical=Math.abs(n.tf)<.001,n.isCritical&&e.push(n.id)}}),e}function Ug(t){const e=[];if(t.length===0)return e.push("至少需要一個工項"),e;const n=new Set;return t.forEach((r,s)=>{r.id||e.push(`工項 ${s+1}: 缺少ID`),r.name||e.push(`工項 ${s+1}: 缺少名稱`),(r.duration===void 0||r.duration===null)&&e.push(`工項 "${r.name}": 缺少工期`),r.duration<=0&&e.push(`工項 "${r.name}": 工期必須為正數`),n.has(r.id)&&e.push(`工項 "${r.name}": ID重複`),n.add(r.id)}),t.forEach(r=>{r.predecessors.forEach(s=>{const i=s.taskId;n.has(i)||e.push(`工項 "${r.name}": 前置工項 "${i}" 不存在`)}),r.successors.forEach(s=>{const i=s.taskId;n.has(i)||e.push(`工項 "${r.name}": 後續工項 "${i}" 不存在`)})}),e}function Bg(t){const e=JSON.parse(JSON.stringify(t)),n=Ug(e);if(n.length>0)return{tasks:e,criticalPath:[],totalDuration:0,startTasks:[],endTasks:[],hasCycle:!1,errors:n};if(Pg(e))return{tasks:e,criticalPath:[],totalDuration:0,startTasks:[],endTasks:[],hasCycle:!0,errors:["檢測到循環依賴，請檢查任務之間的依賴關係"]};const s=Og(e);Lg(e,s),Hg(e,s);const i=Vg(e);let o=0;const l=[],a=[];return e.forEach(c=>{c.ef!==void 0&&(o=Math.max(o,c.ef)),c.isStart&&l.push(c.id),c.isEnd&&a.push(c.id)}),{tasks:e,criticalPath:i,totalDuration:o,startTasks:l,endTasks:a,hasCycle:!1}}function Ri(t){const e=new Map,n=t.map(r=>({...r,predecessors:[...r.predecessors],successors:[...r.successors]}));return n.forEach(r=>e.set(r.id,r)),n.forEach(r=>{r.predecessors.forEach(s=>{const i=e.get(s.taskId);if(i){const o=i.successors.find(l=>l.taskId===r.id&&l.type===s.type);o?o.lag=s.lag:i.successors.push({taskId:r.id,type:s.type,lag:s.lag})}}),r.successors.forEach(s=>{const i=e.get(s.taskId);if(i){const o=i.predecessors.find(l=>l.taskId===r.id&&l.type===s.type);o?o.lag=s.lag:i.predecessors.push({taskId:r.id,type:s.type,lag:s.lag})}})}),n}function Kg(t){const e=["工項名稱","工期(天)","前置作業","關係型式","Lag(天)"],n=new Map(t.map(i=>[i.id,i])),r=t.map(i=>{if(i.predecessors.length===0)return[i.name,i.duration.toString(),"---","---","---"];if(i.predecessors.length===1){const o=i.predecessors[0],l=n.get(o.taskId)?.name||o.taskId;return[i.name,i.duration.toString(),l,o.type,(o.lag||0).toString()]}else{const o=i.predecessors[0],l=i.predecessors.every(c=>c.type===o.type),a=i.predecessors.every(c=>(c.lag||0)===(o.lag||0));if(l&&a){const c=i.predecessors.map(u=>n.get(u.taskId)?.name||u.taskId).join(", ");return[i.name,i.duration.toString(),c,o.type,(o.lag||0).toString()]}else{const c=n.get(o.taskId)?.name||o.taskId;return[i.name,i.duration.toString(),c+" (等"+i.predecessors.length+"項)",o.type,(o.lag||0).toString()]}}}),s=[e,...r].map(i=>i.map(o=>`"${o}"`).join(",")).join(`
`);dr(s,"tasks_extended.csv","text/csv;charset=utf-8;")}function Wg(t){const e=["工項名稱","工期(天)","ES","EF","LS","LF","TF","FF","關鍵工項"],n=t.tasks.map(s=>[s.name,s.duration.toString(),s.es?.toString()||"-",s.ef?.toString()||"-",s.ls?.toString()||"-",s.lf?.toString()||"-",s.tf?.toString()||"-",s.ff?.toString()||"-",s.isCritical?"是":"否"]),r=[e,...n].map(s=>s.map(i=>`"${i}"`).join(",")).join(`
`);dr(r,"cpm_result.csv","text/csv;charset=utf-8;")}function zg(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{try{const i=s.target?.result,o=jg(i);e(o)}catch(i){n(i)}},r.onerror=()=>{n(new Error("檔案讀取失敗"))},r.readAsText(t,"UTF-8")})}function jg(t){const e=t.trim().split(`
`);if(e.length<2)throw new Error("CSV 檔案格式錯誤：至少需要標題列和一筆資料");const n=e.slice(1),r=[],s=new Map;function i(c){const u=c.replace(/-/g,"").toUpperCase();return u==="FS"||u==="SS"||u==="FF"||u==="SF"?u:"FS"}function o(c){const u=c.match(/^(.+?)\(([FS\-]+)\s+Lag([+-]?\d+)\)$/i);if(u)return{name:u[1].trim(),type:i(u[2]),lag:parseInt(u[3])};const f=c.match(/^(.+?)\(([FS\-]+)\)$/i);return f?{name:f[1].trim(),type:i(f[2]),lag:0}:{name:c.trim(),type:"FS",lag:0}}n.forEach((c,u)=>{const f=kr(c);if(f.length<2)return;const d=f[0]?.trim(),p=f[1]?.trim();if(!d||!p)return;const w=parseInt(p,10);if(isNaN(w)||w<=0)throw new Error(`第 ${u+2} 列：工期必須為正整數`);const A=`task-${Date.now()}-${Math.random().toString(36).substr(2,9)}-${u}`;r.push({id:A,name:d,duration:w,predecessors:[],successors:[]}),s.set(d,A)});const a=kr(n[0]).length>=5;return n.forEach((c,u)=>{const f=kr(c);if(f.length<2)return;const d=f[0]?.trim(),p=r[u];if(!(!p||!d))if(a&&f.length>=5){const w=f[2]?.trim()||"",A=f[3]?.trim()||"F-S",H=f[4]?.trim()||"0";if(w&&w!=="---"){const k=i(A),T=parseInt(H)||0;w.split(/[;,]/).map(x=>x.trim()).filter(x=>x&&x!=="---").forEach(x=>{const P=s.get(x);P&&!p.predecessors.some(Q=>Q.taskId===P)&&p.predecessors.push({taskId:P,type:k,lag:T})})}}else{const w=f[2]?.trim()||"",A=f[3]?.trim()||"";w&&w!=="---"&&w.split(/[;,]/).map(k=>k.trim()).filter(k=>k&&k!=="---").forEach(k=>{const{name:T,type:$,lag:x}=o(k),P=s.get(T);P&&!p.predecessors.some(Q=>Q.taskId===P)&&p.predecessors.push({taskId:P,type:$,lag:x})}),A&&A!=="---"&&A.split(/[;,]/).map(k=>k.trim()).filter(k=>k&&k!=="---").forEach(k=>{const{name:T,type:$,lag:x}=o(k),P=s.get(T);P&&!p.successors.some(Q=>Q.taskId===P)&&p.successors.push({taskId:P,type:$,lag:x})})}}),r.forEach(c=>{c.predecessors.forEach(u=>{const f=r.find(d=>d.id===u.taskId);f&&!f.successors.some(d=>d.taskId===c.id)&&f.successors.push({taskId:c.id,type:u.type,lag:u.lag})})}),r}function kr(t){const e=[];let n="",r=!1;for(let s=0;s<t.length;s++){const i=t[s];i==='"'?r=!r:i===","&&!r?(e.push(n),n=""):n+=i}return e.push(n),e}function dr(t,e,n){const s=new Blob(["\uFEFF"+t],{type:n}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=e,o.style.display="none",document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(i)},100)}function qg(t){const e=new Map(t.tasks.map(i=>[i.id,i])),n=t.criticalPath.map(i=>e.get(i)).filter(Boolean);let r=`關鍵路徑分析報告
`;r+="=".repeat(50)+`

`,r+=`專案總工期：${t.totalDuration} 天
`,r+=`關鍵工項數量：${t.criticalPath.length} 項

`,r+=`關鍵路徑：
`,r+=n.map(i=>i?.name).join(" → ")+`

`,r+=`關鍵工項詳細資訊：
`,r+="-".repeat(50)+`
`,n.forEach((i,o)=>{i&&(r+=`${o+1}. ${i.name}
`,r+=`   工期：${i.duration} 天
`,r+=`   最早開始：Day ${i.es}
`,r+=`   最早完成：Day ${i.ef}
`,r+=`   最晚開始：Day ${i.ls}
`,r+=`   最晚完成：Day ${i.lf}
`,r+=`   總浮時：${i.tf} 天
`,r+=`
`)}),r+=`
其他工項浮時分析：
`,r+="-".repeat(50)+`
`,t.tasks.filter(i=>!i.isCritical).forEach(i=>{r+=`${i.name}：總浮時 ${i.tf} 天，自由浮時 ${i.ff} 天
`}),dr(r,"critical_path_report.txt","text/plain;charset=utf-8;")}function Xg(){const e=[["工項名稱","工期(天)","前置作業","關係型式","Lag(天)"],["地質調查","5","---","---","---"],["初步設計","10","地質調查","F-S","0"],["結構設計","15","初步設計","F-S","0"],["發包準備","7","結構設計","S-S","2"],["開工動員","3","發包準備","F-S","0"]].map(n=>n.map(r=>`"${r}"`).join(",")).join(`
`);dr(e,"template_extended.csv","text/csv;charset=utf-8;")}const Yg={id:"app"},Gg={class:"app-main"},Jg={class:"container"},Zg={class:"toolbar"},Qg={class:"toolbar-section"},t0={key:0,class:"toolbar-section"},e0=["disabled"],n0=["disabled"],r0={class:"main-layout"},s0={class:"left-panel"},i0={key:0,class:"right-panel"},o0={key:0,class:"section"},l0={class:"modal-header"},a0={class:"modal-body"},c0={class:"modal-actions"},u0=rr({__name:"App",setup(t){const e=Kt([]),n=Kt(null),r=Kt(""),s=Kt("info"),i=Kt(!1),o=Kt(null);function l(T){e.value.push(T),e.value=Ri(e.value),k("工項新增成功","success"),n.value&&f()}function a(T){const $=e.value.findIndex(x=>x.id===T.id);$!==-1&&(e.value[$]=T,e.value=Ri(e.value),k("工項更新成功","success"),n.value&&f())}function c(T){e.value=e.value.filter($=>$.id!==T),e.value.forEach($=>{$.predecessors=$.predecessors.filter(x=>x.taskId!==T),$.successors=$.successors.filter(x=>x.taskId!==T)}),k("工項已刪除","info"),n.value&&e.value.length>0?f():e.value.length===0&&(n.value=null)}function u(){e.value=[],n.value=null,k("所有工項已清空","info")}function f(){if(e.value.length===0){k("請先新增工項","error");return}try{const T=Bg(e.value);n.value=T,T.errors&&T.errors.length>0?k(`計算完成，但有 ${T.errors.length} 個錯誤`,"error"):T.hasCycle?k("檢測到循環依賴，請修正依賴關係","error"):k(`計算成功！專案總工期：${T.totalDuration} 天`,"success")}catch(T){k("計算失敗："+T.message,"error")}}function d(){try{Kg(e.value),k("工項資料已匯出","success")}catch(T){k("匯出失敗："+T.message,"error")}}function p(){if(n.value)try{Wg(n.value),k("CPM 結果已匯出","success")}catch(T){k("匯出失敗："+T.message,"error")}}function w(){if(n.value)try{qg(n.value),k("關鍵路徑報告已匯出","success")}catch(T){k("匯出失敗："+T.message,"error")}}function A(){try{Xg(),k("範本已下載","success")}catch(T){k("下載失敗："+T.message,"error")}}async function H(T){const x=T.target.files?.[0];if(x){try{const P=await zg(x);e.value=P,n.value=null,i.value=!1,k(`成功匯入 ${P.length} 個工項`,"success"),setTimeout(()=>{f()},100)}catch(P){k("匯入失敗："+P.message,"error")}o.value&&(o.value.value="")}}function k(T,$="info"){r.value=T,s.value=$,setTimeout(()=>{r.value=""},5e3)}return(T,$)=>(L(),D("div",Yg,[$[7]||($[7]=y("header",{class:"app-header"},[y("div",{class:"container"},[y("h1",null,"工程進度規劃與控制課程解答工具"),y("p",{class:"subtitle"},"Construction Planning and Scheduling Learning Assistant")])],-1)),y("main",Gg,[y("div",Jg,[y("div",Zg,[y("div",Qg,[y("button",{class:"btn btn-outline",onClick:$[0]||($[0]=x=>i.value=!0)}," 匯入 CSV "),y("button",{class:"btn btn-outline",onClick:A}," 下載 CSV範本 ")]),e.value.length>0?(L(),D("div",t0,[y("button",{class:"btn btn-outline",onClick:d}," 匯出工項 "),y("button",{class:"btn btn-outline",onClick:p,disabled:!n.value}," 匯出結果 ",8,e0),y("button",{class:"btn btn-outline",onClick:w,disabled:!n.value}," 匯出報告 ",8,n0)])):at("",!0)]),y("div",r0,[y("div",s0,[At(Vu,{tasks:e.value,onAddTask:l,onUpdateTask:a,onRemoveTask:c,onClearTasks:u,onCalculate:f},null,8,["tasks"])]),n.value?(L(),D("div",i0,[At(xf,{"cpm-result":n.value},null,8,["cpm-result"])])):at("",!0)]),n.value&&!n.value.hasCycle?(L(),D("section",o0,[At(Ng,{"cpm-result":n.value},null,8,["cpm-result"])])):at("",!0),r.value?(L(),D("div",{key:1,class:Fe(["message",s.value])},st(r.value),3)):at("",!0)])]),$[8]||($[8]=y("footer",{class:"app-footer"},[y("div",{class:"container"},[y("p",null,"© 2025 Construction Planning and Scheduling Learning Assistant v1.1 "),y("p",null,"Designed by：國立雲林科技大學 營建工程系 EB502 ")])],-1)),i.value?(L(),D("div",{key:0,class:"modal-overlay",onClick:$[4]||($[4]=x=>i.value=!1)},[y("div",{class:"modal",onClick:$[3]||($[3]=Bc(()=>{},["stop"]))},[y("div",l0,[$[5]||($[5]=y("h3",null,"匯入 CSV 檔案",-1)),y("button",{class:"close-btn",onClick:$[1]||($[1]=x=>i.value=!1)},"×")]),y("div",a0,[$[6]||($[6]=y("p",{class:"modal-description"},[Dr(" 選擇包含工項資料的 CSV 檔案。檔案應包含以下欄位： "),y("br"),Dr("工項名稱、工期(天)、前置作業、後續作業 ")],-1)),y("input",{type:"file",accept:".csv,.txt",onChange:H,ref_key:"fileInput",ref:o,class:"file-input"},null,544),y("div",c0,[y("button",{class:"btn btn-secondary",onClick:$[2]||($[2]=x=>i.value=!1)}," 取消 ")])])])])):at("",!0)]))}}),f0=ar(u0,[["__scopeId","data-v-bf252250"]]);jc(f0).mount("#app");
